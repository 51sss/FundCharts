/*!
 * 
 *   FundCharts
 *   @description: 移动端轻量级canvas数据可视化组件。折线图、饼图(环形图)、柱状图。
 *   @version: beta
 *   @author: Micheal Wayne(michealwayne@163.com)
 *   @build time: 2018-11-22
 *   @platform: nodejs服务端（CommonJS）
 */
exports.FundCharts=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){"use strict";t.exports={inBrowser:"undefined"!=typeof window,background:"#fff",line:{colors:["#fe5d4e","#43c2f7"]},pie:{colors:["#fe5d4e","#43c2f7","#707ad9","#3ba8ff","#ffa92f"]},bar:{margin:60,colors:["#fe5d4e","#43c2f7","#707ad9","#3ba8ff","#ffa92f"]},dash:{color:"#e2e2e2",length:3},font:{color:"#666",fontSize:{x:"12px",y:"10px"}}}},function(t,e,i){"use strict";e.__esModule=!0,e.drawDashLine=function(t,e,i,r,n,a){if(!t)return!1;a=void 0===a?5:a;var o=(h=r-e,c=n-i,Math.sqrt(Math.pow(h,2)+Math.pow(c,2))),s=Math.floor(o/a);var h,c;t.beginPath();for(var l=0;l<s;l++)t[l%2==0?"moveTo":"lineTo"](e+(r-e)/s*l,i+(n-i)/s*l);t.closePath(),t.stroke()},e.retinaScale=function(t,e){var i=window.devicePixelRatio||1;if(1===i)return!1;var r=t.height,n=t.width;return t.height=r*i,t.width=n*i,e.scale(i,i),t.style.height=r+"px",t.style.width=n+"px",i},e.setContext=function(t,e){if(!t||e?!t.$el:!t.opts.Canvas)throw new Error("Error!no chart object to set context.(FundCharts-setContext)");var i=void 0;if(e){var n=t.$el;n.style.webkitUserSelect="none",n.style.userSelect="none",(i=document.createElement("canvas")).id=t.opts.id+"Canvas";var a=t.opts.width||(0,r.getStyle)(n,"width")||500,o=t.opts.height||(0,r.getStyle)(n,"height")||500;i.width=a,i.height=o,n.appendChild(i)}else{var s=t.opts.Canvas,h=t.opts.width||500,c=t.opts.height||500;i=s.createCanvas(h,c),t.opts.handleOut&&t.opts.handleOut(i)}t.canvas=i,t.ctx=i.getContext("2d"),t._chart={width:i.width,height:i.height}};var r=i(6)},function(t,e,i){"use strict";function r(t){return Object.prototype.toString.call(t).replace(/\[object\s|\]/g,"")}function n(t){return"Object"===r(t)}e.__esModule=!0,e.type=r,e.isArray=function(t){return"Array"===r(t)},e.isString=function(t){return"String"===r(t)},e.isObject=n,e.isFunction=function(t){return"Function"===r(t)},e.each=function(t,e){for(var i=0,r=t.length;i<r;i++)e(t[i],i)},e.cloneObjDeep=function t(e,i){if(!n(e)||!n(i))return!1;for(var r in e)!n(i[r])||a[r]?i[r]=i[r]||e[r]:t(e[r],i[r]);return i},e.isEmptyObj=a,e.getColorRgb=function(t){var e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var i="#",r=1;r<4;r++)i+=e.slice(r,r+1).concat(e.slice(r,r+1));e=i}for(var n=[],a=1;a<7;a+=2)n.push(parseInt("0x"+e.slice(a,a+2)));return n}return e};e.cloneArray=function(t,e){return t.map(function(t,i){e[i]=t}),e};function a(t){if(!t)return!1;for(var e in t)return!1;return!0}},function(t,e,i){"use strict";e.__esModule=!0,e.Animation=function(t){t.duration=void 0===t.duration?1e3:t.duration,t.timing=t.timing||"linear";var e=23,i=a(),n=null;i(function a(o){if(null===o)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());null===n&&(n=o);if(o-n<t.duration){var s=(o-n)/t.duration,h=r[t.timing];s=h(s),t.onProcess&&t.onProcess(s),i(a,e)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()},e)};var r={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}},n=void 0;"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var a=function(){return void 0!==n?n:"undefined"!=typeof setTimeout?function(t,e){setTimeout(function(){var e=+new Date;t(e)},e)}:function(t){t(null)}}},function(t,e,i){"use strict";var r=o(i(5)),n=o(i(8)),a=o(i(10));function o(t){return t&&t.__esModule?t:{default:t}}t.exports={line:r.default,pie:n.default,bar:a.default}},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(2),a=i(1),o=i(0),s=i(7),h=(r=s)&&r.__esModule?r:{default:r};var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.id;if(!i)throw new Error("Error!no container id in options.(FundChart)");o.inBrowser&&(this.$el=document.getElementById(i)),e.colors=e.colors||[],this.opts=e}return t.prototype._retinaScale=function(){var t=this.canvas,e=this.ctx;this.pixelRatio=(0,a.retinaScale)(t,e)},t.prototype.update=function(t){if(!t)return!1;this.opts=(0,n.cloneObjDeep)(this.opts,t),this.drawer.draw(!0)},t.prototype.init=function(){(0,a.setContext)(this,o.inBrowser),o.inBrowser&&this._retinaScale(),this.drawer=new h.default(this),this.drawer.init()},t}();e.default=c},function(t,e,i){"use strict";e.__esModule=!0,e.getStyle=function(t,e){var i=t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e),r=i&&i.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(2),a=i(3),o=i(1),s=i(0),h=(r=s)&&r.__esModule?r:{default:r};var c=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Error!no canvas element.(FundChart-draw)");this.chartjs=e;var i=this.chartjs.opts.colors;i&&(h.default.line.colors=i.concat(h.default.line.colors))}return t.prototype.clearCtn=function(t){var e=this.chartjs,i=e.ctx,r=e._chart.width,n=e._chart.height;i.beginPath(),t?i.rect(46,0,r,n-22):i.rect(0,0,r,n),i.fillStyle=h.default.background,i.fill(),i.closePath()},t.prototype.drawDashs=function(){var t=this.chartjs.ctx,e=this.chartjs._chart.width-13,i=(this.chartjs._chart.height-30)/4;t.lineWidth=0,t.strokeStyle=h.default.dash.color,t.beginPath();for(var r=0;r<5;r++)(0,o.drawDashLine)(t,50,r*i+5,e,r*i+5,h.default.dash.length);t.save()},t.prototype.setDataset=function(){var t=this,e=this.chartjs,i=e.opts,r=i.data,a=i.datas,o=void 0,s=void 0,h=void 0,c=void 0,l=i.range;if(l){if(void 0===l.min||void 0===l.max)throw new Error("Error! param range need min and max");h=l.min,c=l.max-l.min}else a?(e.multline=!0,(0,n.each)(a,function(t){var e=Math.min.apply(null,t),i=Math.max.apply(null,t);o=o&&o<e?o:e,s=s&&s>i?s:i})):(o=Math.min.apply(null,r),s=Math.max.apply(null,r)),(c=s-o)>2?c=4*Math.ceil(c/4):c*=1.2,(h=c>2?Math.floor(o):o)+c<s&&(h=o);this.yaxis={min:h,max:h+c,range:c,unit:c/4},this.yRate=(30-e._chart.height)/this.yaxis.range,this.yBasic=5-this.yaxis.max*this.yRate;var u=r?r.length:a[0].length;if(this.xaxis={min:0,max:u-1,range:u,unit:1},this.xRate=(e._chart.width-65)/(u-1),this.xBasic=50,e.multline){var f=[];(0,n.each)(a,function(e){for(var i=[],r=0,n=e.length;r<n;r++)i.push({x:r*t.xRate+t.xBasic,y:e[r]*t.yRate+t.yBasic,value:e[r]});f.push(i)}),this.chartjs.datasets=f}else{var d=[];(0,n.each)(r,function(e,i){d.push({x:i*t.xRate+t.xBasic,y:r[i]*t.yRate+t.yBasic,value:r[i]})}),this.chartjs.dataset=d}},t.prototype.drawTexts=function(){var t=this.chartjs.ctx,e=this.chartjs.opts.xaxis,i=this.chartjs._chart.width,r=this.chartjs._chart.height;t.lineWidth=1,t.textAlign="right",t.font=h.default.font.fontSize.y+" Arial",t.fillStyle=h.default.font.color,t.fillText(e[e.length-1],i-15,r-10),t.textAlign="left",t.fillText(e[0],50,r-10),t.font="${Config.font.fontSize.x} Arial",t.textAlign="right",t.textBaseline="middle";for(var n=this.yaxis,a=0;a<5;a++){var o=n.min+a*n.unit;t.fillText(this.chartjs.opts.yaxisfunc?this.chartjs.opts.yaxisfunc(o):o.toFixed(2),45,this.yRate*o+this.yBasic)}},t.prototype.drawLine=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this.chartjs.ctx;i.lineWidth=1;var r=this.chartjs._chart.height-24,a=function(e){if(t.chartjs.opts.noGradient)return!1;var r=i.createLinearGradient(0,0,0,170),a=(0,n.getColorRgb)(e);r.addColorStop(0,"rgba("+a.join(",")+", 0.3)"),r.addColorStop(.8,"rgba("+a.join(",")+", 0.1)"),r.addColorStop(1,"rgba("+a.join(",")+", 0.05)"),i.fillStyle=r,i.fill()};if(this.chartjs.multline){var o=this.chartjs.datasets;(0,n.each)(o,function(s,c){if(0===c){i.beginPath(),i.lineWidth=0,i.strokeStyle=h.default.background,i.moveTo(50,t.chartjs._chart.height-24);for(var l=0;l<o[0].length;l++)i.lineTo(o[c][l].x,r*(1-e)+o[c][l].y*e);i.lineTo(o[0][o[0].length-1].x,r),i.closePath(),a(h.default.line.colors[c]),i.stroke()}i.lineWidth=1,i.strokeStyle=h.default.line.colors[c],i.beginPath(),i.moveTo(o[c][0].x,r*(1-e)+o[c][0].y*e),(0,n.each)(o[c],function(t){i.lineTo(t.x,r*(1-e)+t.y*e)}),i.stroke()})}else{var s=this.chartjs.dataset;i.beginPath(),i.lineWidth=0,i.strokeStyle=h.default.background,i.moveTo(50,this.chartjs._chart.height-24);for(var c=0,l=s.length;c<l;c++)i.lineTo(s[c].x,r*(1-e)+s[c].y*e);i.lineTo(s[s.length-1].x,r),i.closePath(),a(h.default.line.colors[0]),i.stroke(),i.strokeStyle=h.default.line.colors[0],i.beginPath(),i.moveTo(s[0].x,r*(1-e)+s[0].y*e),(0,n.each)(s,function(t){i.lineTo(t.x,r*(1-e)+t.y*e)}),i.stroke()}i.save()},t.prototype.drawPoint=function(t,e,i,r){var n=this.chartjs.ctx;n.beginPath(),n.strokeStyle=r||"#fff",n.lineWidth=1,n.arc(t,e,4,0,2*Math.PI,!0),n.closePath(),n.fillStyle=i,n.fill(),n.stroke()},t.prototype.drawHover=function(t){var e=this;this.draw(null,!0);var i=this.chartjs.ctx;if(t>this.chartjs._chart.width-15||t<50)return!1;var r=Math.round((t-this.xBasic)/this.xRate),a=[],o=void 0,s=[];if(this.chartjs.multline){var c=this.chartjs.datasets;(0,n.each)(c,function(t,i){e.chartjs.opts.hideHoverPoints||s.push(function(){e.drawPoint(t[r].x,t[r].y-1,h.default.line.colors[i])}),o=t[r].x,a.push(t[r].value)})}else{var l=this.chartjs.dataset;this.chartjs.opts.hideHoverPoints||s.push(function(){e.drawPoint(l[r].x,l[r].y-1,h.default.line.colors[0])}),o=l[r].x,a.push(l[r].value)}i.lineWidth=1,i.strokeStyle="#999",i.beginPath(),i.moveTo(o,6),i.lineTo(o,this.chartjs._chart.height-25),i.stroke(),s.length&&(0,n.each)(s,function(t){t()}),this.chartjs.opts.hover&&this.chartjs.opts.hover(r,a,this.chartjs.opts.xaxis[r]),i.restore()},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas;e.addEventListener("touchstart",function(e){var i=e.touches[0].clientX;t.drawHover(i)},!1),e.addEventListener("touchmove",function(e){var i=e.touches[0].clientX;return t.drawHover(i),!1},!1)},t.prototype.draw=function(t,e){var i=this;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!h.default.inBrowser?this.drawLine():(0,a.Animation)({timing:"easeInOut",duration:400,onProcess:function(t){i.clearCtn(!0),i.drawDashs(),i.drawLine(t)},onAnimationFinish:function(){console.log("chart finish")}})},t.prototype.init=function(){this.draw(!0),h.default.inBrowser&&!this.chartjs.opts.noHoverEvent&&this.setEvents()},t}();e.default=c},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(9),a=(r=n)&&r.__esModule?r:{default:r},o=i(1),s=i(0);var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.id;if(!i)throw new Error("Error!no container id in options.(FundChart)");s.inBrowser&&(this.$el=document.getElementById(i)),e.colors=e.colors||[],this.opts=e}return t.prototype._retinaScale=function(){var t=this.canvas,e=this.ctx;(0,o.retinaScale)(t,e)},t.prototype.init=function(){(0,o.setContext)(this,s.inBrowser),s.inBrowser&&this._retinaScale(),this.drawer=new a.default(this),this.drawer.init()},t}();e.default=h},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(0),a=(r=n)&&r.__esModule?r:{default:r},o=i(3);var s=a.default.pie.colors,h=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Error!no canvas element.(FundChart-draw)");this.chartjs=e}return t.prototype.clearCtn=function(t){var e=this.chartjs.ctx;e.beginPath(),t?e.rect(46,0,this.chartjs._chart.width,this.chartjs._chart.height-22):e.rect(0,0,this.chartjs._chart.width,this.chartjs._chart.height),e.fillStyle=a.default.background,e.fill(),e.closePath()},t.prototype.drawPie=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e=e.concat(s),this.clearCtn();var n=this.chartjs.ctx;i=i>.9?.9:i;var a=this.chartjs._chart.height/2-20,o=a*i,h=this.chartjs.opts.origin||{x:this.chartjs._chart.width/2,y:a+20},c=h.x,l=h.y,u=-.5*Math.PI,f=-.5*Math.PI;for(var d in t)f+=2*t[d]*Math.PI*r,n.fillStyle=e[d]&&~e[d].indexOf("#")?e[d]:s[d],n.beginPath(),n.moveTo(c,l),n.arc(c,l,a,u,f,!1),n.closePath(),n.fill(),u=f;n.fillStyle="#fff",n.beginPath(),n.moveTo(c,l),o&&n.arc(c,l,o,0,2*Math.PI,!1),n.closePath(),n.fill()},t.prototype.init=function(){var t=this,e=this.chartjs.opts;e.noanimatebool||!a.default.inBrowser?this.drawPie(e.datas,e.colors,e.annularRate,1):(0,o.Animation)({timing:"easeInOut",duration:600,onProcess:function(i){t.drawPie(e.datas,e.colors,e.annularRate,i)},onAnimationFinish:function(){console.log("pie chart finish")}})},t}();e.default=h},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(11),a=(r=n)&&r.__esModule?r:{default:r},o=i(1),s=i(2),h=i(0);var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.id;if(!i)throw new Error("Error!no container id in options.(FundChart)");h.inBrowser&&(this.$el=document.getElementById(i)),e.colors=e.colors||[],this.opts=e}return t.prototype._retinaScale=function(){var t=this.canvas,e=this.ctx;this.pixelRatio=(0,o.retinaScale)(t,e)},t.prototype.update=function(t){if(!t)return!1;this.opts=(0,s.cloneObjDeep)(this.opts,t),this.drawer.draw(!0)},t.prototype.init=function(){(0,o.setContext)(this,h.inBrowser),h.inBrowser&&this._retinaScale(),this.drawer=new a.default(this),this.drawer.init()},t}();e.default=c},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(2),a=i(3),o=i(1),s=i(0),h=(r=s)&&r.__esModule?r:{default:r};var c=h.default.bar.margin,l=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Error!no canvas element.(FundChart-draw)");this.chartjs=e;var i=this.chartjs.opts.colors;i&&(h.default.line.colors=i.concat(h.default.line.colors))}return t.prototype.clearCtn=function(t){var e=this.chartjs,i=e.ctx,r=e._chart.width,n=e._chart.height;i.beginPath(),t?i.rect(46,0,r,n-22):i.rect(0,0,r,n),i.fillStyle=h.default.background,i.fill(),i.closePath()},t.prototype.drawDashs=function(){var t=this.chartjs.ctx,e=this.chartjs._chart.width-13,i=(this.chartjs._chart.height-30)/4;t.lineWidth=0,t.strokeStyle=h.default.dash.color,t.beginPath();for(var r=0;r<5;r++)(0,o.drawDashLine)(t,50,r*i+5,e,r*i+5,h.default.dash.length);t.save()},t.prototype.setDataset=function(){var t=this,e=this.chartjs,i=e.opts,r=i.series;if(!r||!r.length)throw new Error("Error! no series data.");var a=void 0,o=0,s=void 0,h=i.range;if(h){if(void 0===h.min||void 0===h.max)throw new Error("Error! param range need min and max");o=h.min,s=h.max-h.min}else r.length>1?(e.multline=!0,(0,n.each)(r,function(t){var e=Math.max.apply(null,t);a=a&&a>e?a:e})):a=Math.max.apply(null,r[0]),s=(s=a-o)>5?5*Math.ceil(s/5):Math.ceil(1.2*s);this.yaxis={min:o,max:o+s,range:s,unit:s/4},this.yRate=(30-e._chart.height)/this.yaxis.range,this.yBasic=5-this.yaxis.max*this.yRate;var l=r[0].length;c=(c=e.opts.barMargin||l>=10&&40-4*(l-10)||c)<0?0:c/(this.chartjs.pixelRatio||1),this.xaxis={min:0,max:l-1,range:l,unit:1};var u=this.chartjs.barWidth=Math.floor((e._chart.width-65)/l-c);if(this.xRate=(e._chart.width-65)/(l+1),this.xBasic=c/2+50,e.multline){var f=[];(0,n.each)(r,function(e,i){for(var r=[],n=0,a=e.length;n<a;n++){var o=n*u+(n+.5)*c+50;r.push({x:o,y:e[n]*t.yRate+t.yBasic,value:e[n]})}f.push(r)}),this.chartjs.datasets=f}else{var d=[];(0,n.each)(r[0],function(e,i){var n=i*u+(i+.5)*c+50;d.push({x:n,y:e*t.yRate+t.yBasic,value:r[0][i]})}),this.chartjs.dataset=d}},t.prototype.wrapText=function(t,e,i,r,n,a){if("string"==typeof e&&"number"==typeof i&&"number"==typeof r){var o=t.canvas;void 0===n&&(n=o&&o.width||300),void 0===a&&(a=o&&parseInt(window.getComputedStyle(o).lineHeight)||parseInt(window.getComputedStyle(document.body).lineHeight));for(var s=e.split(""),h="",c=0;c<s.length;c++){var l=h+s[c];t.measureText(l).width>n&&c>0?(t.fillText(h,i,r),h=s[c],r+=a):h=l}t.fillText(h,i,r)}},t.prototype.drawTexts=function(){var t=this,e=this.chartjs.ctx,i=this.chartjs.opts.xaxis,r=this.chartjs._chart.height;e.lineWidth=1,e.font=h.default.font.fontSize.y+" Arial",e.fillStyle=h.default.font.color,e.textAlign="center";var a=this.chartjs.multline?this.chartjs.datasets[0]:this.chartjs.dataset,o=this.chartjs.barWidth;e.stroke();var s=2.5*o;a.length>=10&&(s=1.8*o),(0,n.each)(a,function(n,a){if(!i[a])return!1;t.wrapText(e,i[a],n.x+o/2,r-15,s,12)}),e.textAlign="right",e.textBaseline="middle";for(var c=this.yaxis,l=0;l<5;l++){var u=c.min+l*c.unit;e.fillText(this.chartjs.opts.yaxisfunc?this.chartjs.opts.yaxisfunc(u):u.toFixed(2),45,this.yRate*u+this.yBasic)}},t.prototype.drawBars=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this.chartjs.ctx;i.lineWidth=1;var r=this.chartjs._chart.height-24;if(this.chartjs.multline){var a=this.chartjs.datasets;(0,n.each)(a,function(n,o){i.beginPath(),i.lineWidth=0,i.strokeStyle=h.default.background;for(var s=t.chartjs._chart.height-24,c=t.chartjs.barWidth/a.length,l=0,u=n.length;l<u;l++)i.fillStyle=h.default.bar.colors[o],i.fillRect(n[l].x+c*o,s,c,(n[l].y-r)*e+r-s);i.stroke()})}else{var o=this.chartjs.dataset;i.beginPath(),i.lineWidth=0,i.strokeStyle=h.default.background;for(var s=this.chartjs._chart.height-24,c=this.chartjs.barWidth,l=0,u=o.length;l<u;l++)i.fillStyle=h.default.bar.colors[0],i.fillRect(o[l].x,s,c,(o[l].y-r)*e+r-s);i.stroke()}i.save()},t.prototype.draw=function(t,e){var i=this;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),!h.default.inBrowser||e?this.drawBars(1):(0,a.Animation)({timing:"easeInOut",duration:800,onProcess:function(t){i.clearCtn(!0),i.drawDashs(),i.drawBars(t)},onAnimationFinish:function(){console.log("chart finish")}})},t.prototype.init=function(){this.draw(!0)},t}();e.default=l}]);