/*!
 * FundCharts
 * @description: web/weapp/nodejs canvas charts library.
 * @version: 0.9.4
 * @author: Micheal Wayne(michealwayne@163.com)
 * @time: 2018~2019
 */
exports.FundCharts=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=12)}([function(t,e,r){"use strict";function n(t){return Object.prototype.toString.call(t).replace(/\[object\s|\]/g,"")}function a(t){return"Object"===n(t)}function i(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}e.__esModule=!0,e.type=n,e.isArray=function(t){return"Array"===n(t)},e.isString=function(t){return"String"===n(t)},e.isObject=a,e.isFunction=function(t){return"Function"===n(t)},e.each=i,e.cloneObjDeep=function t(e,r){if(!a(e)||!a(r))return!1;for(var n in e)!a(r[n])||o[n]?r[n]=r[n]||e[n]:t(e[n],r[n]);return r},e.isEmptyObj=o,e.getColorRgbArr=s,e.getColorRgba=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"rgba("+s(t).join(",")+","+e+")"},e.Lighting=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(t).map(function(t){return(t+=t*e)>255?255:t})},e.throwError=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";throw new Error("Error!"+t+".(FundCharts-"+e+" "+r+")")};e.cloneArray=function(t,e){return i(t,function(t,r){e[r]=t}),e};function o(t){if(!t)return!1;for(var e in t)return!1;return!0}function s(t){var e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var r="#",n=1;n<4;n++)r+=e.slice(n,n+1).concat(e.slice(n,n+1));e=r}for(var a=[],i=1;i<7;i+=2)a.push(parseInt("0x"+e.slice(i,i+2)));return a}return e}},function(t,e,r){"use strict";e.__esModule=!0,e.drawLine=function(t,e,r,n,a){t.beginPath(),t.moveTo(e,r),t.lineTo(n,a),t.closePath(),t.stroke()},e.drawDashLine=function(t,e,r,n,a,i){i=i||5;var o=(s=n-e,h=a-r,~~(Math.sqrt(Math.pow(s,2)+Math.pow(h,2))/i));var s,h;t.beginPath();for(var c=0;c<o;c++)t[1&c?"lineTo":"moveTo"](e+(n-e)/o*c,r+(a-r)/o*c);t.closePath(),t.stroke()},e.drawPoint=function(t,e,r,n,a,i,o){t.beginPath(),t.strokeStyle=a||"#fff",t.lineWidth=void 0!==o?o:1,t.arc(e,r,i,0,2*Math.PI,!0),t.closePath(),t.fillStyle=n,t.fill(),o&&t.stroke()},e.clearArc=function(t,e,r,n){var a=.1;!function e(r,n,i){var o=i-a,s=Math.sqrt(i*i-o*o);var h=r-o,c=n-s;var u=2*o,l=2*s;a<=i&&(t.clearRect(h,c,u,l),a+=.1,e(r,n,i))}(e,r,n)},e.retinaScale=function(t,e){var r=window.devicePixelRatio||1;if(1===r)return!1;var n=t.width,a=t.height;return t.width=n*r,t.height=a*r,e.scale(r,r),t.style.width=n+"px",t.style.height=a+"px",r},e.setContext=function(t,e,r){(!t||e?t.$el:t.opts.Canvas||r)||(0,a.throwError)("no chart object to set context","setContext");var i=t.opts,o=void 0,s=i.width||500,h=i.height||500;if(e){var c=t.$el;if(c.style.webkitUserSelect="none",c.style.userSelect="none",(0,a.isFunction)(c.getContext))o=c;else{(o=document.createElement("canvas")).id=i.id+"Canvas";var u=i.width||(0,n.getStyle)(c,"width"),l=i.height||(0,n.getStyle)(c,"height");o.width=u,o.height=l,c.appendChild(o)}}else if(r){wx&&(0,a.isFunction)(wx.createCanvasContext)||(0,a.throwError)("no param {Object} Ctx","setContext");var d=wx.createCanvasContext(i.id);o={info:"Weapp native canvas",width:s,height:h,getContext:function(){return d},draw:function(e){if(e)return d.draw(!0);wx.drawCanvas({canvasId:i.id,actions:t.ctx.getActions()})}}}else{var f=i.Canvas;i.Canvas||(0,a.throwError)("no param {Object} Canvas","setContext"),o=f.createCanvas(s,h),i.handleOut&&i.handleOut(o)}t.canvas=o,t.ctx=o.getContext("2d"),t._chart={width:o.width,height:o.height}};var n=r(14),a=r(0)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRange=function(t){return t?t>2?4*Math.ceil(t/4):1.2*t:1},e.getAngle=function(t,e,r,n){var a=Math.atan2(r-t,e-n);return a<0?2*Math.PI+a:a},e.getDistance=function(t,e,r,n){return Math.sqrt(Math.pow(t-r,2)+Math.pow(e-n,2))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),a=r(1),i=r(5),o=function(){function t(t){this.yaxis={min:0,max:0,range:0,unit:0},this.xaxis={min:0,max:0,range:0,unit:0},this.xRate=0,this.xBasic=0,this.yRate=0,this.yBasic=0,this.drawPoint=a.drawPoint,this.chartjs=t}return t.prototype.getBasicData=function(t){var e,r,a=this.chartjs.opts,i=t||a.datas,o=a.range;return o?(void 0!==o.min&&void 0!==o.max||n.throwError('param range need params "min" and "max"',"setConfig"),e=o.min,r=o.max):n.each(i,function(t){var n=Math.min.apply(null,t),a=Math.max.apply(null,t);e=void 0!==e&&e<n?e:n,r=r&&r>a?r:a}),[e||0,r||0]},t.prototype.clearCtn=function(t){var e=this.chartjs,r=e.opts,n=r.backgroundColor,a=e.ctx,i=e._chart.width,o=e._chart.height;a.beginPath();var s=(~n.replace(" ","").indexOf("0)")?a.clearRect:a.rect).bind(a);t?s(r.chartLeft-4,r.chartTop-5,i+1,o-16-r.chartTop):s(0,0,1e5,1e5),a.fillStyle=n,a.fill(),a.closePath()},t.prototype.drawDashs=function(t){var e=this.chartjs,r=e.opts,n=r.grid,i=r.dash,o=i.isSolid,s=r.dash.color,h=n.showGrid,c=n.xTickLength,u=n.yTickLength,l=e.ctx;l.save();var d=e._chart.width-r.chartRight+2,f=(e._chart.height-r.chartTop-30)/(u-1),p=(d-2-r.chartLeft)/(c-1),v=(u-1)*f+r.chartTop+5.5;if(!r.noDash){l.strokeStyle=s,l.beginPath(),l.lineWidth=1;for(var y=o?a.drawLine:a.drawDashLine,x=o?d-2:d,g=0;g<u;g++){var w=t||g*f+5+r.chartTop;y(l,r.chartLeft,w,x,w,i.length)}if(c){var _=r.chartTop+5;for(g=0;g<c;g++){var m=g*p+r.chartLeft-.5;y(l,m,v,m,_,i.length)}}}if(h){n.color&&(l.strokeStyle=n.color);var b=r.chartLeft-.5,j=e.drawer.zeroY||v;a.drawLine(l,b,r.chartTop,b,v),a.drawLine(l,b,j,d-2,j),l.stroke()}l.strokeStyle=s,l.restore()},t.prototype.drawTexts=function(t,e){var r=this.chartjs,n=r.opts,a=n.grid.yTickLength,i=n.font,o=r.ctx,s=n.xaxis,h=r._chart.width,c=r._chart.height;if(n.handleTextX&&(t=n.handleTextX),n.handleTextY&&(e=n.handleTextY),o.lineWidth=1,o.textAlign="right",o.textBaseline="middle",o.font=i.fontSize.x+" "+i.fontFamily,o.fillStyle=i.color,t)t(o,s);else{var u=c-10;o.fillText(s[s.length-1],h-n.chartRight,u),o.textAlign="left",o.fillText(s[0],n.chartLeft,u)}o.font=i.fontSize.y+" "+i.fontFamily,o.textAlign="right";var l=this.yaxis;if(e)e(o,l);else for(var d=n.chartLeft-5,f=n.yaxisfunc||function(t){return t.toFixed(2)},p=0;p<a;p++){var v=l.min+p*l.unit;o.fillText(f(v),d,this.yRate*v+this.yBasic)}},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,r=this.chartjs.opts,n=r.events;if(!n||!r.inBrowser)return!1;n.forEach(function(r){e.addEventListener(r,function(e){var n=~r.indexOf("touch")?e.touches[0]:e,a=n.clientX,i=n.pageY-n.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;i.Animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=o},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zeroY=0,e}return a(e,t),e.prototype.setDataset=function(){var t,e=this.chartjs,r=e.opts,n=r.datas,a=r.grid.yTickLength,i=this.getBasicData(),o=i[0],s=i[1],h=r.range;h?t=h.max-h.min:o<0?(o=~~o,-(s=Math.ceil(s))<o?o=-s:s=-o,t=2*s):((t=s-o)||(o=0,t=1),t=t>5?5*Math.ceil(t/5):Math.ceil(1.2*t)),this.yaxis={min:o,max:o+t,range:t,unit:t/(a-1)};var c=e._chart.width,u=e._chart.height,l=this.yRate=(30-u+r.chartTop)/this.yaxis.range,d=this.yBasic=5-this.yaxis.max*l+r.chartTop;this.zeroY=o<0?d:u-24;var f=e.pixelRatio||1,p=n[0].length,v=r.chartLeft+r.chartRight,y=r.barMargin||r.barWidth&&e.pixelRatio*~~((c-v)/p-r.barWidth*n.length)||p>=10&&40-(p-10)*f||r.bar.margin;y=y<0?0:y/f,this.xaxis={min:0,max:p-1,range:p,unit:1};var x=e.barWidth=r.barWidth||~~((c-v)/p-y);e.datasets=n.map(function(t){return t.map(function(t,e){return{x:e*x+(e+.5)*y+r.chartLeft,y:t*l+d,value:t}})})},e.prototype.rotateContext=function(t,e,r,n,a){t.save(),t.translate(e,r),t.rotate(n*Math.PI/180),t.fillText(a,0,0),t.restore()},e.prototype.drawBars=function(t,e){void 0===t&&(t=1);var r=this.chartjs,n=r.opts,a=n.singleColorful,o=r.ctx,s=r.datasets,h=r.oldDataset,c=r.barWidth/s.length,u=this.zeroY;o.beginPath(),o.lineWidth=0,o.strokeStyle=n.backgroundColor,i.each(s,function(r,s){var l=h&&h[s];i.each(r,function(r,h){var d=i.Lighting(r.y>u&&n.negativeColor||n.colors[a?h:s]||n.colors[s],h===e?n.hoverHighlight:0),f=r.x+c*s;o.fillStyle="rgb("+d.join(",")+")",l?o.fillRect(f,u,c,(r.y-l[h].y)*t+(l[h].y-u)):o.fillRect(f,u,c,(r.y-u)*t)}),o.stroke()}),o.save(),1===t&&(r.oldDataset=null)},e.prototype.drawXaxisTexts=function(t,e){var r=this,n=this.chartjs,a=n._chart.height-10,o=n.barWidth,s=e.length,h=n.datasets[0],c=s>30?90:s>10?3*s:0;t.textAlign="center",i.each(h,function(n,i){var s=e[i];s&&(c?r.rotateContext(t,n.x+o,a,c,s):t.fillText(s,n.x+o,a))})},e.prototype.draw=function(t,e,r){var n=this,a=this.chartjs,o=a.opts,s=a.datasets;this.clearCtn(!t),this.drawDashs(),t&&(s&&(a.oldDataset=i.cloneArray([],s)),this.setDataset(),this.drawTexts(this.drawXaxisTexts.bind(this))),r||(e||!o.inBrowser&&!o.inWeapp?(this.drawBars(1),o.onFinish&&o.onFinish()):this.setAnimation(function(t){n.clearCtn(!0),n.drawDashs(),n.drawBars(t),o.onAnimation&&o.onAnimation.call(n,t),o.inWeapp&&a.ctx.draw(!0)}))},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts;if(r.oldDataset)return!1;if(t>r._chart.width-n.chartRight||t<n.chartLeft)return!1;for(var a=-1,o=r.barWidth,s=r.datasets[0],h=[],c=0,u=s.length;c<u;c++){var l=s[c];if(t>=l.x&&t<=l.x+o){a=c;break}}return!(a<0)&&(i.each(r.datasets,function(t){h.push(t[a].value)}),this.draw(!1,!0,!0),this.drawBars(1,a),n.hover&&n.hover(a,h,n.xaxis[a],t,e),n.inWeapp&&r.canvas.draw(!0),a)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),!t.inBrowser||t.inWeapp||t.noHoverEvent||this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(3).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Animation=function(t){var e=23,r=t.duration||600,n=t.onProcess||function(){},o=t.onAnimationFinish||function(){},s=a(),h=null;s(function t(a){if(null===a)return n(1),o(),!1;null===h&&(h=a);if(a-h<r){var c=(a-h)/r;c=i(c),n(c),s(t,e)}else n(1),o()},e)};var n=void 0;"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);var a=function(){return void 0!==n?(a=function(){return n},n):function(t,e){setTimeout(function(){var e=+new Date;t(e)},e)}},i=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(2),s=r(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t=this.chartjs,e=t.opts,r=e.grid.yTickLength,n=e.datas,a=[];i.each(n,function(t){a.push.apply(a,t)});var s,h,c=this.getBasicData([a]),u=c[0],l=c[1];e.range?(s=u,h=l-u):(s=(h=o.getRange(l-u))>2?Math.floor(u):u)+h<l&&(s=u),this.yaxis={min:s,max:s+h,range:h,unit:h/(r-1)};var d=this.yRate=(30-t._chart.height+e.chartTop)/h,f=this.yBasic=5-this.yaxis.max*d+e.chartTop,p=n.length;p=p>1?p:2,this.xaxis={min:0,max:p-1,range:p,unit:1};var v=this.xBasic=e.chartLeft+10,y=this.xRate=(t._chart.width-e.chartLeft-e.chartRight-20)/(p-1),x=[];1===n.length&&(n[1]=n[0]),i.each(n,function(t,e){x.push({x:e*y+v,ymin:t[2]*d+f,ystart:t[0]*d+f,yend:t[1]*d+f,ymax:t[3]*d+f,value:t})}),t.dataset=x,e.barWidth||(e.barWidth=p<10?"20":~~(.6*this.xRate),e.barWidth<1&&(e.barWidth=1))},e.prototype.drawUnit=function(t,e,r,n,a){var i,o,h,c=!1;e.yend<e.ystart?(a&&(c=!0),i=r[0],o=e.ystart,h=e.yend):(i=r[4],o=e.yend,h=e.ystart),t.fillStyle=t.strokeStyle=i,s.drawLine(t,e.x,e.ymin,e.x,o),s.drawLine(t,e.x,e.ymax,e.x,h),t.beginPath(),t[c?"rect":"fillRect"](e.x-n/2,h,n,o-h),t.closePath(),t.stroke()},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,r=e.opts,n=e.ctx,a=e.dataset;n.lineWidth=1;for(var i=0,o=t*a.length;i<o;i++){var s=a[i];this.drawUnit(n,s,r.colors,r.barWidth,r.upHollow)}n.save()},e.prototype.draw=function(t,e){var r=this,n=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!n.inBrowser&&!n.inWeapp?(this.drawLine(1),n.onFinish&&n.onFinish()):this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawLine(t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts;this.draw(n.inWeapp||null,!0);var a=r.ctx;if(t>r._chart.width-n.chartRight||t<n.chartLeft||e<n.chartTop||e>r._chart.height-(30-n.chartTop))return!1;var i=Math.round((t-this.xBasic)/this.xRate);if(!r.dataset[i])return!1;var o=Math.round(r.dataset[i].x)+.3;return a.save(),a.strokeStyle=n.hoverLineColor,a.lineWidth=.5,s.drawLine(a,n.chartLeft+.3,e,r._chart.width-14.7,e),s.drawLine(a,o,6+n.chartTop,o,r._chart.height-25),n.hover&&n.hover(i,[n.datas[i]],n.xaxis[i],t,e),a.restore(),n.inWeapp&&r.canvas.draw(!0),i},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(3).default);e.default=h},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(2),s=r(1),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t,e,r=this.chartjs,n=r.opts,a=n.grid.yTickLength,s=n.datas,h=this.getBasicData(),c=h[0],u=h[1];n.range?(t=c,e=u-c):(t=(e=o.getRange(u-c))>2?Math.floor(c):c)+e<u&&(t=c),this.yaxis={min:t,max:t+e,range:e,unit:e/(a-1)};var l=this.yRate=(30-r._chart.height+n.chartTop)/e,d=this.yBasic=5-this.yaxis.max*l+n.chartTop,f=s[0].length;f=f>1?f:2,this.xaxis={min:0,max:f-1,range:f,unit:1};var p=this.xBasic=n.chartLeft,v=this.xRate=(r._chart.width-n.chartLeft-n.chartRight)/(f-1),y=[];i.each(s,function(t){var e=[];1===t.length&&(t[1]=t[0]),i.each(t,function(t,r){e.push({x:Math.ceil(r*v+p),y:t*l+d,value:t})}),y.push(e)}),r.datasets=y},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,r=e.datasets,n=e.opts,a=e.ctx;a.lineWidth=1;var o=e._chart.height-24,s=e.oldDatasets,h=s&&s[0].length,c=h&&1!==t?function(e,r,n){var i=e.x,o=e.y,s=n[r]||n[h-1];a.lineTo((i-s.x)*t+s.x,n[r]?(o-s.y)*t+s.y:o)}:function(t){a.lineTo(t.x,t.y)};i.each(r,function(e,u){a.save();var l=r[u][0],d=h?e:e.slice(0,~~(t*e.length)),f=d.length;if(!f)return!1;var p,v,y,x=n.curveLine?function(e,r){return function(e,r,n){r=r||e;var i=(e.x+r.x)/2,s=o*(1-t)+(e.y+r.y)*t/2;a.quadraticCurveTo(e.x,e.y,i,s)}(e,d[r+1],s&&s[u])}:function(t,e){return c(t,e,s&&s[u])};(n.allGradient||0===u&&!n.noGradient)&&(a.beginPath(),a.lineWidth=0,a.strokeStyle=n.backgroundColor,a.moveTo(n.chartLeft,o),a.lineTo(l.x+.5,o*(1-t)+l.y*t),i.each(d,x),s&&s[0][f-1]?a.lineTo((d[f-1].x-s[0][f-1].x)*t+s[0][f-1].x,o):a.lineTo(d[f-1].x+.5,o),a.closePath(),p=n.colors[u],v=a.createLinearGradient(0,0,0,170),y=i.getColorRgbArr(p).join(","),v.addColorStop(0,"rgba("+y+", 0.3)"),v.addColorStop(.8,"rgba("+y+", 0.1)"),v.addColorStop(1,"rgba("+y+", 0.05)"),a.fillStyle=v,a.fill(),a.stroke()),a.lineWidth=n.lineWidths&&n.lineWidths[u]||1,a.strokeStyle=n.colors[u],a.beginPath(),s&&s[u]?a.moveTo(l.x,(l.y-s[u][0].y)*t+s[u][0].y):a.moveTo(l.x,l.y),i.each(d,x),a.stroke(),a.restore()}),a.save(),1===t&&(e.oldDatasets=null)},e.prototype.drawHover=function(t,e){var r=this,n=this.chartjs,a=n.opts;if(a.curveLine||n.oldDatasets)return!1;this.draw(a.inWeapp||null,!0);var o=n.ctx,h=n._chart.width-a.chartRight;t=t<a.chartLeft?a.chartLeft:t>h?h:t;var c=Math.round((t-this.xBasic)/this.xRate),u=[],l=0,d=[],f=n.datasets;return i.each(f,function(t,e){var n=t[c];!a.hideHoverPoints&&n&&d.push(function(){r.drawPoint(o,n.x,n.y-1,a.colors[e],a.pointStyle,4,1)}),l=n.x,u.push(n.value)}),a.noHoverLine||(l+=.3,o.lineWidth=.5,o.strokeStyle=a.hoverLineColor,s.drawLine(o,l,6+a.chartTop,l,n._chart.height-25)),d.length&&i.each(d,function(t){return t()}),a.hover&&a.hover(c,u,a.xaxis[c],t,e),o.restore(),a.inWeapp&&n.canvas.draw(!0),c},e.prototype.draw=function(t,e){var r=this,n=this.chartjs,a=n.opts,o=n.datasets;this.clearCtn(!t),this.drawDashs(),t&&(o&&(n.oldDatasets=i.cloneArray([],o)),this.setDataset(),this.drawTexts()),e||a.curveLine||!a.inBrowser&&!a.inWeapp?(this.drawLine(),a.onFinish&&a.onFinish()):this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawLine(t),a.onAnimation&&a.onAnimation.call(r,t),a.inWeapp&&n.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(3).default);e.default=h},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(2),s=r(1),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.origin=null,e.centerArr=null,e}return a(e,t),e.prototype.drawPie=function(t,e,r){void 0===t&&(t=.6),void 0===e&&(e=1),t=t>.9?.9:t;var n=this.chartjs,a=n.opts,o=a.widthRates,h=n.drawer,c=a.backgroundColor,u=a.colors,l=a.datas,d=n.oldDataset;this.clearCtn();var f=n.ctx,p=a.radius||n._chart.height/2-20,v=p*t,y=a.origin||{x:n._chart.width/2,y:p+20},x=y.x,g=y.y;this.origin=y,h.radius=p,h.radiusWhite=v;var w=a.startAngle||-.5*Math.PI,_=w;f.save(),f.lineWidth=a.lineWidth,f.strokeStyle=c;var m=[];i.each(l,function(t,n){var s=r===n;_+=2*Math.PI*(1!==e&&d?(l[n]-d[n])*e+d[n]:l[n]*e),s&&a.hoverRate&&(f.fillStyle=s?i.getColorRgba(u[n],.6):u[n],f.beginPath(),f.moveTo(x,g),f.arc(x,g,p*(o&&o[n]||1)*a.hoverRate,w,_,!1),f.closePath(),f.fill()),f.fillStyle=s?i.getColorRgba(u[n],.8):u[n],f.beginPath(),f.moveTo(x,g),f.arc(x,g,p*(o&&o[n]||1),w,_,!1),f.closePath(),f.fill(),a.lineWidth&&f.stroke(),1===e&&m.push((_+w)/2),w=_}),~c.indexOf(",0)")?s.clearArc(f,x,g,v):s.drawPoint(f,x,g,c,"",v,0),1===e&&(this.centerArr=m,n.oldDataset=null,n.dataset=l)},e.prototype.draw=function(t,e){var r=this,n=this.chartjs,a=n.opts;t&&(n.oldDataset=i.cloneArray([],n.dataset)),e||!a.inBrowser&&!a.inWeapp?(this.drawPie(a.annularRate,1),a.onFinish&&a.onFinish()):this.setAnimation(function(t){r.drawPie(a.annularRate,t),a.onAnimation&&a.onAnimation.call(r,t),a.inWeapp&&r.chartjs.ctx.draw(!0)}),a.inWeapp&&this.chartjs.canvas.draw()},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts,a=n.datas,i=this.origin;if(r.oldDataset)return!1;for(var s,h=o.getAngle(i.x,i.y,t,e),c=h/(2*Math.PI),u=0,l=0,d=a.length;l<d;l++)if(c<(u+=a[l])){s=l;break}return!(void 0===s||o.getDistance(t,e,i.x,i.y)>r.drawer.radius+5)&&(this.drawPie(n.annularRate,1,s),n.inWeapp&&r.canvas.draw(!0),n.hover&&n.hover(s,[a[s||0]],h,t,e),s)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(9).default);e.default=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),a=function(){function t(t){this.chartjs=t}return t.prototype.clearCtn=function(){var t=this.chartjs.ctx,e=this.chartjs.opts.backgroundColor;t.beginPath(),t[~e.replace(" ","").indexOf(",0)")?"clearRect":"rect"](0,0,1e5,1e5),t.fillStyle=e,t.fill(),t.closePath()},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,r=this.chartjs.opts,n=r.events;if(!n||!r.inBrowser)return!1;n.forEach(function(r){e.addEventListener(r,function(e){var n=~r.indexOf("touch")?e.touches[0]:e,a=n.clientX,i=n.pageY-n.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;n.Animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=a},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(1),s=r(2),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.radius=0,e.origin=null,e.sideArr=[],e}return a(e,t),e.prototype.setDataset=function(t){var e=this,r=this.chartjs,n=r.opts,a=n.datas,o=0;if(i.each(a,function(t){var r=Math.max.apply(e,t);r>o&&(o=r)}),r.rangeMax=Math.ceil(1*o/(n.maxRate||.9)),this.radius=n.radius||r._chart.height/2-10,this.origin=r.opts.origin||{x:r._chart.width/2,y:this.radius+10},t)return r.oldDataset=i.cloneArray([],r.dataset),!1;this.sideArr=function(t){for(var e=[],r=2*Math.PI/t,n=0;n<t;n++)e.push({x:Math.sin(r*n),y:Math.cos(r*n)});return e}(r.side=a[0].length)},e.prototype.drawRadar=function(t,e){void 0===t&&(t=1);var r=this.chartjs,n=r.opts,a=n.colors;this.clearCtn();var s=r.ctx,h=this.radius,c=this.origin,u=c.x,l=c.y,d=this.sideArr,f=d[0],p=r.oldDataset,v=n.gridNumber||3;s.lineWidth=1,s.strokeStyle=n.dash.color;for(var y=function(t){var e=(t+1)/v*h;s.beginPath(),s.moveTo(u+f.x*e,l-f.y*e),i.each(d,function(t){s.lineTo(u+t.x*e,l-t.y*e)}),s.lineTo(u+f.x*e,l-f.y*e),s.closePath(),n.fillGrid?(s.fillStyle=i.getColorRgba(n.fillGrid,(v-t)/v*.8),s.fill()):s.stroke(),t+1===v&&i.each(d,function(t){o.drawLine(s,u,l,u+t.x*e,l-t.y*e)})},x=0;x<v;x++)y(x);var g=r.rangeMax,w=[],_=h*(p?1:t)/g;i.each(n.datas,function(r,h){w[h]=[],function(r,h,c){s.strokeStyle=a[h],s.fillStyle=i.getColorRgba(a[h],.4),s.beginPath(),i.each(r,function(e,r){var n=d[r],a=c&&c[r];if(n){var i=void 0,o=void 0;i=u+e*n.x*_,o=l-e*n.y*_,a&&(i=a.x+(i-a.x)*t,o=a.y+(o-a.y)*t),w[h].push({x:i,y:o}),s.lineTo(i,o)}}),s.lineTo(w[h][0].x,w[h][0].y),s.closePath(),s.stroke(),n.noFill||s.fill(),s.save();var f=n.hidePoints?0:3;i.each(w[h],function(t,r){o.drawPoint(s,t.x,t.y,a[h],n.pointStyle,e===r?5:f,e===r?1:0)}),s.restore()}(r,h,p&&p[h])}),1===t&&(r.oldDataset=null,r.dataset=w)},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts,a=this.origin,i=this.sideArr.length;if(r.oldDataset||s.getDistance(t,e,a.x,a.y)>r.drawer.radius+5)return!1;var o=s.getAngle(a.x,a.y,t,e),h=Math.PI/i,c=Math.floor(o/h);(c=Math.round(c+(1&c?1:0))/2)===i&&(c=0);var u=n.datas.map(function(t){return t[c]});return this.drawRadar(1,c),n.inWeapp&&r.canvas.draw(!0),n.hover&&n.hover(c,u,o,t,e),c},e.prototype.draw=function(t,e){var r=this;this.setDataset(t);var n=this.chartjs.opts;e||!n.inBrowser&&!n.inWeapp?(this.drawRadar(1),n.onFinish&&n.onFinish()):this.setAnimation(function(t){r.drawRadar(t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(9).default);e.default=h},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t,e,r=this.chartjs,n=r.opts,a=n.range,s=n.grid.yTickLength,h=n.datas,c=null,u=null;if(a)c={x:a.x[0],y:a.y[0]},t=(u={x:a.x[1],y:a.y[1]}).x-c.x,e=u.y-c.y;else{var l=[],d=[];i.each(h,function(t){i.each(t,function(t){l.push(t[0]),d.push(t[1])})}),c={x:Math.min.apply(null,l),y:Math.min.apply(null,d)},u={x:Math.max.apply(null,l),y:Math.max.apply(null,d)},l=[],d=[],t=o.getRange(u.x-c.x),c.x=t>2?Math.floor(c.x):c.x,c.x+t<u.x&&(c.x=c.x),e=o.getRange(u.y-c.y),c.y=e>2?Math.floor(c.y):c.y,c.y+e<u.y&&(c.y=c.y)}n.xaxisfunc?n.xaxis=[n.xaxisfunc(c.x),n.xaxisfunc(u.x)]:n.xaxis=[c.x.toFixed(2),u.x.toFixed(2)],this.yaxis={min:c.y,max:c.y+e,range:e,unit:e/(s-1)};var f=this.yRate=(30-r._chart.height+n.chartTop)/e,p=this.yBasic=5-this.yaxis.max*f+n.chartTop;this.xaxis={min:c.x,max:c.x+t,range:t,unit:t/4};var v=this.xRate=(r._chart.width-65)/t,y=this.xBasic=50;r.datasets=h.map(function(t){return t.map(function(t){return{x:t[0]*v+y,y:t[1]*f+p,value:t}})})},e.prototype.drawPoints=function(t){var e=this;void 0===t&&(t=1);var r=this.chartjs,n=r.opts,a=n.borderRate||.8,o=r.datasets;i.each(o,function(s,h){var c=i.getColorRgba(n.colors[h],.3),u=(n.pointWidths&&n.pointWidths[h]||6-4*h/o.length)*t,l=u*a;i.each(s,function(t){e.drawPoint(r.ctx,t.x,t.y,n.colors[h],c,u,l)})})},e.prototype.draw=function(t,e){var r=this,n=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!n.inBrowser&&!n.inWeapp?(this.drawPoints(),n.onFinish&&n.onFinish()):this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawPoints(t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(3).default);e.default=s},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(13),o={version:"0.9.2"};["line","bar","scatter","kline","pie","radar"].forEach(function(t){Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:function(){var e=r(16)("./"+t).default;return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.init=function(t){t||this._init(),this.drawer=new e(this),t||this.drawer.init()},r}(i.default)}})}),t.exports=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),a=r(1),i=r(15),o=i.default.inBrowser,s=i.default.inWeapp,h=function(){function t(t){this.$el=null,this.drawer=null,this.canvas=null,this.ctx=null;var e=t.id,r=t.colors,a=t.data,s=t.datas;e&&(a||s)||n.throwError("no container id or datas in options","setConfig"),o&&(this.$el=document.getElementById(e)),r&&(t.colors=r.concat(i.default.colors)),t=n.cloneObjDeep(i.default,t),a&&(t.datas=[a],delete t.data),this.opts=t}return t.prototype.update=function(t){t&&(t.data&&(t.datas=[t.data],delete t.data),this.opts=n.cloneObjDeep(this.opts,t)),this.drawer.draw(!0,this.opts.noAnimation)},t.prototype._init=function(){a.setContext(this,o,s),o&&(this.pixelRatio=a.retinaScale(this.canvas,this.ctx))},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.getStyle=function(t,e){var r=t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof wx&&void 0!==wx.getSystemInfo,a=n?2:1,i={inBrowser:"undefined"!=typeof window&&!n,inWeapp:n,backgroundColor:"rgba(0,0,0,0)",colors:["#fe5d4e","#43c2f7","#707ad9","#ffa61b","#64d290","#cf27bd"],duration:600,events:["touchstart","touchmove"],hoverLineColor:"#999",hoverHighlight:1,grid:{yTickLength:5},bar:{margin:60/a},chartTop:0,chartLeft:50/a,chartRight:15,dash:{color:"#e2e2e2",length:3/a},font:{color:"#666",fontFamily:"Arial",fontSize:{x:"11px",y:"10px"}}};e.default=i},function(t,e,r){var n={"./bar":4,"./bar.ts":4,"./kline":6,"./kline.ts":6,"./line":7,"./line.ts":7,"./pie":8,"./pie.ts":8,"./radar":10,"./radar.ts":10,"./scatter":11,"./scatter.ts":11};function a(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=i,t.exports=a,a.id=16}]);