/*!
 * 
 *   FundCharts
 *   @description: 移动端轻量级canvas数据可视化组件。折线图、饼图(环形图)、柱状图、雷达图（蜘蛛图）、散点图、k线图。
 *   @version: 0.9.3
 *   @author: Micheal Wayne(michealwayne@163.com)
 *   @build time: 2018-11-22
 *   @update time: 2019-09-20
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FundCharts=e():t.FundCharts=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=11)}([function(t,e,r){"use strict";function n(t){return Object.prototype.toString.call(t).replace(/\[object\s|\]/g,"")}function a(t){return"Object"===n(t)}function i(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}e.__esModule=!0,e.type=n,e.isArray=function(t){return"Array"===n(t)},e.isString=function(t){return"String"===n(t)},e.isObject=a,e.isFunction=function(t){return"Function"===n(t)},e.each=i,e.cloneObjDeep=function t(e,r){if(!a(e)||!a(r))return!1;for(var n in e)!a(r[n])||o[n]?r[n]=r[n]||e[n]:t(e[n],r[n]);return r},e.isEmptyObj=o,e.getColorRgb=s,e.Lighting=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(t).map(function(t){return(t+=t*e)>255?255:t})},e.throwError=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";throw new Error("Error!"+t+".(FundCharts-"+e+" "+r+")")};e.cloneArray=function(t,e){return i(t,function(t,r){e[r]=t}),e};function o(t){if(!t)return!1;for(var e in t)return!1;return!0}function s(t){var e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var r="#",n=1;n<4;n++)r+=e.slice(n,n+1).concat(e.slice(n,n+1));e=r}for(var a=[],i=1;i<7;i+=2)a.push(parseInt("0x"+e.slice(i,i+2)));return a}return e}},function(t,e,r){"use strict";e.__esModule=!0,e.drawLine=function(t,e,r,n,a){t.beginPath(),t.moveTo(e,r),t.lineTo(n,a),t.closePath(),t.stroke()},e.drawDashLine=function(t,e,r,n,a,i){i=i||5;var o=(s=n-e,h=a-r,~~(Math.sqrt(Math.pow(s,2)+Math.pow(h,2))/i));var s,h;t.beginPath();for(var c=0;c<o;c++)t[c%2==0?"moveTo":"lineTo"](e+(n-e)/o*c,r+(a-r)/o*c);t.closePath(),t.stroke()},e.drawPoint=function(t,e,r,n,a,i,o){t.beginPath(),t.strokeStyle=a||"#fff",t.lineWidth=void 0!==o?o:1,t.arc(e,r,i,0,2*Math.PI,!0),t.closePath(),t.fillStyle=n,t.fill(),o&&t.stroke()},e.retinaScale=function(t,e){var r=window.devicePixelRatio||1;if(1===r)return!1;var n=t.width,a=t.height;return t.width=n*r,t.height=a*r,e.scale(r,r),t.style.width=n+"px",t.style.height=a+"px",r},e.setContext=function(t,e,r){(!t||e?t.$el:t.opts.Canvas||r)||(0,a.throwError)("no chart object to set context","setContext");var i=t.opts,o=void 0,s=i.width||500,h=i.height||500;if(e&&!r){var c=t.$el;if(c.style.webkitUserSelect="none",c.style.userSelect="none",(0,a.isFunction)(c.getContext))o=c;else{(o=document.createElement("canvas")).id=i.id+"Canvas";var u=i.width||(0,n.getStyle)(c,"width"),l=i.height||(0,n.getStyle)(c,"height");o.width=u,o.height=l,c.appendChild(o)}}else if(r){wx&&(0,a.isFunction)(wx.createCanvasContext)||(0,a.throwError)("no param {Object} Ctx","setContext");var d=wx.createCanvasContext(i.id);o={info:"Weapp native canvas",width:s,height:h,getContext:function(){return d},draw:function(e){if(e)return d.draw(!0);wx.drawCanvas({canvasId:i.id,actions:t.ctx.getActions()})}}}else{var f=i.Canvas;i.Canvas||(0,a.throwError)("no param {Object} Canvas","setContext"),o=f.createCanvas(s,h),i.handleOut&&i.handleOut(o)}t.canvas=o,t.ctx=o.getContext("2d"),t._chart={width:o.width,height:o.height}};var n=r(13),a=r(0)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),a=r(1),i=r(4),o=function(){function t(t){this.yaxis={min:0,max:0,range:0,unit:0},this.xaxis={min:0,max:0,range:0,unit:0},this.xRate=0,this.xBasic=0,this.yRate=0,this.yBasic=0,this.drawPoint=a.drawPoint,this.chartjs=t}return t.prototype.getBasicData=function(t){var e,r,a=this.chartjs.opts,i=t||a.datas,o=a.range;return o?(void 0!==o.min&&void 0!==o.max||n.throwError('param range need params "min" and "max"',"setConfig"),e=o.min,r=o.max):n.each(i,function(t){var n=Math.min.apply(null,t),a=Math.max.apply(null,t);e=void 0!==e&&e<n?e:n,r=r&&r>a?r:a}),[e||0,r||0]},t.prototype.clearCtn=function(t){var e=this.chartjs,r=e.opts,n=e.ctx,a=e._chart.width,i=e._chart.height;n.beginPath(),t?n.rect(r.chartLeft-4,r.chartTop-5,a+1,i-16-r.chartTop):n.rect(0,0,1e5,1e5),n.fillStyle=r.backgroundColor,n.fill(),n.closePath()},t.prototype.drawDashs=function(t){var e=this.chartjs,r=e.opts,n=r.grid,i=r.dash,o=i.isSolid,s=r.dash.color,h=n.showGrid,c=n.xTickLength,u=n.yTickLength,l=e.ctx;l.save();var d=e._chart.width-r.chartRight+2,f=(e._chart.height-r.chartTop-30)/(u-1),p=(d-2-r.chartLeft)/(c-1),v=(u-1)*f+r.chartTop+5.5;if(!r.noDash){l.strokeStyle=s,l.beginPath(),l.lineWidth=1;for(var y=o?a.drawLine:a.drawDashLine,x=o?d-2:d,g=0;g<u;g++){var w=t||g*f+5+r.chartTop;y(l,r.chartLeft,w,x,w,i.length)}if(c){var _=r.chartTop+5;for(g=0;g<c;g++){var m=g*p+r.chartLeft-.5;y(l,m,v,m,_,i.length)}}}if(h){n.color&&(l.strokeStyle=n.color);var b=r.chartLeft-.5,j=e.drawer.zeroY||v;a.drawLine(l,b,r.chartTop,b,v),a.drawLine(l,b,j,d-2,j),l.stroke()}l.strokeStyle=s,l.restore()},t.prototype.drawTexts=function(t,e){var r=this.chartjs,n=r.opts,a=n.grid.yTickLength,i=n.font,o=r.ctx,s=n.xaxis,h=r._chart.width,c=r._chart.height;if(n.handleTextX&&(t=n.handleTextX),n.handleTextY&&(e=n.handleTextY),o.lineWidth=1,o.textAlign="right",o.textBaseline="middle",o.font=i.fontSize.x+" "+i.fontFamily,o.fillStyle=i.color,t)t(o,s);else{var u=c-10;o.fillText(s[s.length-1],h-n.chartRight,u),o.textAlign="left",o.fillText(s[0],n.chartLeft,u)}o.font=i.fontSize.y+" "+i.fontFamily,o.textAlign="right";var l=this.yaxis;if(e)e(o,l);else for(var d=n.chartLeft-5,f=n.yaxisfunc||function(t){return t.toFixed(2)},p=0;p<a;p++){var v=l.min+p*l.unit;o.fillText(f(v),d,this.yRate*v+this.yBasic)}},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,r=this.chartjs.opts,n=r.events;if(!n||!r.inBrowser)return!1;n.forEach(function(r){e.addEventListener(r,function(e){var n=~r.indexOf("touch")?e.touches[0]:e,a=n.clientX,i=n.pageY-n.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;i.Animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=o},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zeroY=0,e}return a(e,t),e.prototype.setDataset=function(){var t,e=this.chartjs,r=e.opts,n=r.datas,a=r.grid.yTickLength,o=this.getBasicData(),s=o[0],h=o[1],c=r.range;c?t=c.max-c.min:s<0?(s=~~s,-(h=Math.ceil(h))<s?s=-h:h=-s,t=2*h):((t=h-s)||(s=0,t=1),t=t>5?5*Math.ceil(t/5):Math.ceil(1.2*t)),this.yaxis={min:s,max:s+t,range:t,unit:t/(a-1)};var u=e._chart.width,l=e._chart.height,d=this.yRate=(30-l+r.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*this.yRate+r.chartTop;this.zeroY=s<0?this.yBasic:l-24;var p=e.pixelRatio||1,v=n[0].length,y=r.chartLeft+r.chartRight,x=e.opts.barMargin||r.barWidth&&e.pixelRatio*~~((u-y)/v-r.barWidth*n.length)||v>=10&&40-(v-10)*p||e.opts.bar.margin;x=x<0?0:x/p,this.xaxis={min:0,max:v-1,range:v,unit:1};var g=e.barWidth=r.barWidth||~~((u-y)/v-x),w=[];i.each(n,function(t){var e=[];i.each(t,function(t,n){e.push({x:n*g+(n+.5)*x+r.chartLeft,y:t*d+f,value:t})}),w.push(e)}),e.datasets=w},e.prototype.rotateContext=function(t,e,r,n,a){t.save(),t.translate(e,r),t.rotate(n*Math.PI/180),t.fillText(a,0,0),t.restore()},e.prototype.drawBars=function(t,e){void 0===t&&(t=1);var r=this.chartjs,n=r.opts,a=r.ctx,o=r.oldDataset;a.lineWidth=1;var s=this.zeroY;a.beginPath(),a.lineWidth=0;var h=r.datasets,c=n.singleColorful;i.each(h,function(u,l){a.strokeStyle=n.backgroundColor;var d=r.barWidth/h.length,f=o&&o[l];i.each(u,function(r,o){var h=i.Lighting(r.y>s&&n.negativeColor||n.colors[c?o:l]||n.colors[l],o===e?n.hoverHighlight:0);a.fillStyle="rgb("+h.join(",")+")",f?a.fillRect(r.x+d*l,s,d,(r.y-f[o].y)*t+(f[o].y-s)):a.fillRect(r.x+d*l,s,d,(r.y-s)*t)}),a.stroke()}),a.save(),1===t&&(r.oldDataset=null)},e.prototype.drawXaxisTexts=function(t,e){var r=this,n=this.chartjs,a=n._chart.height,o=n.datasets[0],s=n.barWidth,h=e.length>10?3*e.length:0;h>90&&(h=90),t.textAlign="center",i.each(o,function(n,i){var o=e[i];o&&(h?r.rotateContext(t,n.x+s/2,a-10,h,o):t.fillText(o,n.x+s/2,a-10))})},e.prototype.draw=function(t,e,r){var n=this,a=this.chartjs,o=a.opts,s=a.datasets;this.clearCtn(!t),this.drawDashs(),t&&(s&&(a.oldDataset=i.cloneArray([],s)),this.setDataset(),this.drawTexts(this.drawXaxisTexts.bind(this))),r||(!o.inBrowser&&!o.inWeapp||e?this.drawBars(1):this.setAnimation(function(t){n.clearCtn(!0),n.drawDashs(),n.drawBars(t),o.onAnimation&&o.onAnimation.call(n,t),o.inWeapp&&a.ctx.draw(!0)}))},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts;if(r.oldDataset)return!1;if(t>r._chart.width-n.chartRight||t<n.chartLeft)return!1;for(var a=-1,o=r.barWidth,s=r.datasets[0],h=[],c=0,u=s.length;c<u;c++){var l=s[c];if(t>=l.x&&t<=l.x+o){a=c;break}}return!(a<0)&&(i.each(r.datasets,function(t){h.push(t[a].value)}),this.draw(!1,!0,!0),this.drawBars(1,a),n.hover&&n.hover(a,h,n.xaxis[a],t,e),n.inWeapp&&r.canvas.draw(!0),a)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),!t.inBrowser||t.inWeapp||t.noHoverEvent||this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Animation=function(t){t.duration=t.duration||600;var e=23,r=a(),n=null;r(function a(o){if(null===o)return t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish(),!1;null===n&&(n=o);if(o-n<t.duration){var s=(o-n)/t.duration;s=i(s),t.onProcess&&t.onProcess(s),r(a,e)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()},e)};var n=void 0;"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);var a=function(){return void 0!==n?(a=function(){return n},n):function(t,e){setTimeout(function(){var e=+new Date;t(e)},e)}},i=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t=this.chartjs,e=t.opts,r=e.grid.yTickLength,n=e.datas,a=[];i.each(n,function(t){a.push.apply(a,t)});var o,s,h=this.getBasicData([a]),c=h[0],u=h[1];e.range?(o=c,s=u-c):((s=u-c)||(s=1),s>2?s=4*Math.ceil(s/4):s*=1.2,(o=s>2?Math.floor(c):c)+s<u&&(o=c)),this.yaxis={min:o,max:o+s,range:s,unit:s/(r-1)};var l=this.yRate=(30-t._chart.height+e.chartTop)/this.yaxis.range,d=this.yBasic=5-this.yaxis.max*l+e.chartTop,f=n.length;f=f>1?f:2,this.xaxis={min:0,max:f-1,range:f,unit:1};var p=this.xBasic=e.chartLeft+10,v=this.xRate=(t._chart.width-e.chartLeft-e.chartRight-20)/(f-1),y=[];1===n.length&&(n[1]=n[0]),i.each(n,function(t,e){y.push({x:e*v+p,ymin:t[2]*l+d,ystart:t[0]*l+d,yend:t[1]*l+d,ymax:t[3]*l+d,value:t})}),t.dataset=y,e.barWidth||(e.barWidth=f<10?"20":~~(.6*this.xRate),e.barWidth<1&&(e.barWidth=1))},e.prototype.drawUnit=function(t,e,r,n,a){var i,s,h,c=!1;e.yend<e.ystart?(a&&(c=!0),i=r[0],s=e.ystart,h=e.yend):(i=r[4],s=e.yend,h=e.ystart),t.fillStyle=t.strokeStyle=i,o.drawLine(t,e.x,e.ymin,e.x,s),o.drawLine(t,e.x,e.ymax,e.x,h),t.beginPath(),t[c?"rect":"fillRect"](e.x-n/2,h,n,s-h),t.closePath(),t.stroke()},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,r=e.opts,n=e.ctx,a=e.dataset;n.lineWidth=1;for(var i=0,o=t*a.length;i<o;i++){var s=a[i];this.drawUnit(n,s,r.colors,r.barWidth,r.upHollow)}n.save()},e.prototype.draw=function(t,e){var r=this,n=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!n.inBrowser&&!n.inWeapp?this.drawLine(1):this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawLine(t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts;this.draw(n.inWeapp||null,!0);var a=r.ctx;if(t>r._chart.width-n.chartRight||t<n.chartLeft||e<n.chartTop||e>r._chart.height-(30-n.chartTop))return!1;var i=Math.round((t-this.xBasic)/this.xRate);if(!r.dataset[i])return!1;var s=Math.round(r.dataset[i].x)+.3;return a.save(),a.strokeStyle=n.hoverLineColor,a.lineWidth=.5,o.drawLine(a,n.chartLeft+.3,e,r._chart.width-14.7,e),o.drawLine(a,s,6+n.chartTop,s,r._chart.height-25),n.hover&&n.hover(i,[n.datas[i]],n.xaxis[i],t,e),a.restore(),n.inWeapp&&r.canvas.draw(!0),i},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=s},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t,e,r=this.chartjs,n=r.opts,a=n.grid.yTickLength,o=n.datas,s=this.getBasicData(),h=s[0],c=s[1];n.range?(t=h,e=c-h):((e=c-h)||(e=1),e>2?e=4*Math.ceil(e/4):e*=1.2,(t=e>2?Math.floor(h):h)+e<c&&(t=h)),this.yaxis={min:t,max:t+e,range:e,unit:e/(a-1)};var u=this.yRate=(30-r._chart.height+n.chartTop)/this.yaxis.range,l=this.yBasic=5-this.yaxis.max*this.yRate+n.chartTop,d=o[0].length;d=d>1?d:2,this.xaxis={min:0,max:d-1,range:d,unit:1};var f=this.xBasic=n.chartLeft,p=this.xRate=(r._chart.width-n.chartLeft-n.chartRight)/(d-1),v=[];i.each(o,function(t){var e=[];1===t.length&&(t[1]=t[0]),i.each(t,function(t,r){e.push({x:Math.ceil(r*p+f),y:t*u+l,value:t})}),v.push(e)}),r.datasets=v},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,r=e.datasets,n=e.opts,a=e.ctx;a.lineWidth=1;var o=e._chart.height-24,s=e.oldDatasets,h=s&&s[0].length,c=h&&1!==t?function(e,r,n){var i=e.x,o=e.y,s=n[r]||n[h-1];a.lineTo((i-s.x)*t+s.x,n[r]?(o-s.y)*t+s.y:o)}:function(e){a.lineTo(e.x,o*(1-t)+e.y*t)};i.each(r,function(e,h){a.save();var u,l,d,f=r[h][0],p=n.curveLine?function(r,n){return function(e,r,n){r=r||e;var i=(e.x+r.x)/2,s=o*(1-t)+(e.y+r.y)*t/2;a.quadraticCurveTo(e.x,e.y,i,s)}(r,e[n+1],s&&s[h])}:function(t,e){return c(t,e,s&&s[h])};if(n.allGradient||0===h&&!n.noGradient){a.beginPath(),a.lineWidth=0,a.strokeStyle=n.backgroundColor,a.moveTo(n.chartLeft,o);var v=e.length;a.lineTo(f.x+.5,o*(1-t)+f.y*t),i.each(e,p),s&&s[0][v-1]?a.lineTo((e[v-1].x-s[0][v-1].x)*t+s[0][v-1].x,o):a.lineTo(e[v-1].x+.5,o),a.closePath(),u=n.colors[h],l=a.createLinearGradient(0,0,0,170),d=i.getColorRgb(u).join(","),l.addColorStop(0,"rgba("+d+", 0.3)"),l.addColorStop(.8,"rgba("+d+", 0.1)"),l.addColorStop(1,"rgba("+d+", 0.05)"),a.fillStyle=l,a.fill(),a.stroke()}a.lineWidth=n.lineWidths&&n.lineWidths[h]||1,a.strokeStyle=n.colors[h],a.beginPath(),s&&s[h]?a.moveTo(f.x,(f.y-s[h][0].y)*t+s[h][0].y):a.moveTo(f.x,o*(1-t)+f.y*t),i.each(r[h],p),a.stroke(),a.restore()}),a.save(),1===t&&(e.oldDatasets=null)},e.prototype.drawHover=function(t,e){var r=this,n=this.chartjs,a=n.opts;if(a.curveLine||n.oldDatasets)return!1;this.draw(a.inWeapp||null,!0);var s=n.ctx;if(t>n._chart.width-a.chartRight||t<a.chartLeft)return!1;var h=Math.round((t-this.xBasic)/this.xRate),c=[],u=0,l=[],d=n.datasets;return i.each(d,function(t,e){var n=t[h];!a.hideHoverPoints&&n&&l.push(function(){r.drawPoint(s,n.x,n.y-1,a.colors[e],a.pointStyle,4,1)}),u=n.x,c.push(n.value)}),a.noHoverLine||(u+=.3,s.lineWidth=.5,s.strokeStyle=a.hoverLineColor,o.drawLine(s,u,6+a.chartTop,u,n._chart.height-25)),l.length&&i.each(l,function(t){return t()}),a.hover&&a.hover(h,c,a.xaxis[h],t,e),s.restore(),a.inWeapp&&n.canvas.draw(!0),h},e.prototype.draw=function(t,e){var r=this,n=this.chartjs,a=n.opts,o=n.datasets;this.clearCtn(!t),this.drawDashs(),t&&(o&&(n.oldDatasets=i.cloneArray([],o)),this.setDataset(),this.drawTexts()),e||a.curveLine||!a.inBrowser&&!a.inWeapp?this.drawLine():this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawLine(t),a.onAnimation&&a.onAnimation.call(r,t),a.inWeapp&&n.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=s},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.origin=null,e.centerArr=null,e}return a(e,t),e.prototype.drawPie=function(t,e,r){void 0===t&&(t=.6),void 0===e&&(e=1);var n=this.chartjs,a=n.opts,o=a.widthRates,s=a.datas,h=n.oldDataset,c=a.colors;this.clearCtn();var u=n.ctx;t=t>.9?.9:t;var l=a.radius||n._chart.height/2-20,d=l*t,f=a.origin||{x:n._chart.width/2,y:l+20},p=f.x,v=f.y,y=n.drawer;this.origin=f,y.radius=l,y.radiusWhite=d;var x=a.startAngle||-.5*Math.PI,g=x;u.save(),u.lineWidth=a.lineWidth,u.strokeStyle=a.backgroundColor;var w=[];i.each(s,function(t,n){g+=2*Math.PI*(1!==e&&h?(s[n]-h[n])*e+h[n]:s[n]*e),r===n&&a.hoverRate&&(u.fillStyle=n!==r?c[n]:"rgba("+i.getColorRgb(c[n]).join(",")+", 0.6)",u.beginPath(),u.moveTo(p,v),u.arc(p,v,l*(o&&o[n]||1)*a.hoverRate,x,g,!1),u.closePath(),u.fill()),u.fillStyle=n!==r?c[n]:"rgba("+i.Lighting(c[n]).join(",")+", 0.8)",u.beginPath(),u.moveTo(p,v),u.arc(p,v,l*(o&&o[n]||1),x,g,!1),u.closePath(),u.fill(),a.lineWidth&&u.stroke(),1===e&&w.push((g+x)/2),x=g}),this.centerArr=w,u.fillStyle=a.backgroundColor,u.beginPath(),u.moveTo(p,v),d>0&&u.arc(p,v,d,0,2*Math.PI,!1),u.closePath(),u.fill(),1===e&&(n.oldDataset=null,n.dataset=s)},e.prototype.draw=function(t,e){var r=this,n=this.chartjs,a=n.opts;t&&(n.oldDataset=i.cloneArray([],n.dataset)),a.noAnimation||!a.inBrowser&&!a.inWeapp?this.drawPie(a.annularRate,1):this.setAnimation(function(t){r.drawPie(a.annularRate,t),a.onAnimation&&a.onAnimation.call(r,t),a.inWeapp&&r.chartjs.ctx.draw(!0)}),a.inWeapp&&this.chartjs.canvas.draw()},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts,a=n.datas,i=this.origin;if(r.oldDataset)return!1;for(var o,s=this.getAngle(i.x,i.y,t,e),h=s/(2*Math.PI),c=0,u=0,l=a.length;u<l;u++)if(h<(c+=a[u])){o=u;break}return!(void 0===o||Math.pow(t-i.x,2)+Math.pow(e-i.y,2)>Math.pow(r.drawer.radius+5,2))&&(this.drawPie(n.annularRate,1,o),n.inWeapp&&r.canvas.draw(!0),n.hover&&n.hover(o,[a[o||0]],s,t,e),o)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(8).default);e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),a=function(){function t(t){this.chartjs=t}return t.prototype.clearCtn=function(){var t=this.chartjs.ctx;t.beginPath(),t.rect(0,0,1e5,1e5),t.fillStyle=this.chartjs.opts.backgroundColor,t.fill(),t.closePath()},t.prototype.getAngle=function(t,e,r,n){var a=Math.atan2(r-t,e-n);return a<0?2*Math.PI+a:a},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,r=this.chartjs.opts,n=r.events;if(!n||!r.inBrowser)return!1;n.forEach(function(r){e.addEventListener(r,function(e){var n=~r.indexOf("touch")?e.touches[0]:e,a=n.clientX,i=n.pageY-n.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;n.Animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=a},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(1),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.radius=0,e.origin=null,e.sideArr=[],e}return a(e,t),e.prototype.setDataset=function(t){var e=this,r=this.chartjs,n=r.opts,a=n.datas,o=0;if(i.each(a,function(t){var r=Math.max.apply(e,t);r>o&&(o=r)}),r.rangeMax=Math.ceil(1*o/(r.opts.maxRate||.9)),this.radius=n.radius||r._chart.height/2-10,this.origin=r.opts.origin||{x:r._chart.width/2,y:this.radius+10},t)return r.oldDataset=i.cloneArray([],r.dataset),!1;this.sideArr=function(t){for(var e=[],r=2*Math.PI/t,n=0;n<t;n++)e.push({x:Math.sin(r*n),y:Math.cos(r*n)});return e}(r.side=a[0].length)},e.prototype.drawRadar=function(t,e){void 0===t&&(t=1);var r=this.chartjs,n=r.opts,a=r.opts.colors;this.clearCtn();var s=r.ctx,h=this.radius,c=this.origin,u=c.x,l=c.y,d=this.sideArr,f=r.oldDataset,p=n.gridNumber||3;s.lineWidth=1,s.strokeStyle=r.opts.dash.color;for(var v=function(t){var e=(t+1)/p*h;if(s.beginPath(),s.moveTo(u+d[0].x*e,l-d[0].y*e),i.each(d,function(t){s.lineTo(u+t.x*e,l-t.y*e)}),s.lineTo(u+d[0].x*e,l-d[0].y*e),s.closePath(),n.fillGrid){var r=i.getColorRgb(n.fillGrid);s.fillStyle="rgba("+r.join(",")+", "+(p-t)/p*.8+")",s.fill()}else s.stroke();t+1===p&&i.each(d,function(t){o.drawLine(s,u,l,u+t.x*e,l-t.y*e)})},y=0;y<p;y++)v(y);var x=r.rangeMax,g=[],w=h*(f?1:t)/x;i.each(n.datas,function(r,h){g[h]=[],function(r,h,c){s.strokeStyle=a[h],s.fillStyle="rgba("+i.getColorRgb(a[h]).join(",")+",0.4)",s.beginPath(),i.each(r,function(e,r){var n=d[r],a=c&&c[r];if(n){var i=void 0,o=void 0;i=u+e*n.x*w,o=l-e*n.y*w,a&&(i=a.x+(i-a.x)*t,o=a.y+(o-a.y)*t),g[h].push({x:i,y:o}),s.lineTo(i,o)}}),s.lineTo(g[h][0].x,g[h][0].y),s.closePath(),s.stroke(),n.noFill||s.fill(),s.save();var f=n.hidePoints?0:3;i.each(g[h],function(t,r){o.drawPoint(s,t.x,t.y,a[h],n.pointStyle,e===r?5:f,e===r?1:0)}),s.restore()}(r,h,f&&f[h])}),1===t&&(r.oldDataset=null,r.dataset=g)},e.prototype.drawHover=function(t,e){var r=this.chartjs,n=r.opts,a=this.origin,o=this.sideArr.length;if(r.oldDataset||Math.pow(t-a.x,2)+Math.pow(e-a.y,2)>Math.pow(r.drawer.radius+5,2))return!1;var s=this.getAngle(a.x,a.y,t,e),h=Math.PI/o,c=Math.floor(s/h);(c=Math.round(c+(1&c?1:0))/2)===o&&(c=0);var u=[];return i.each(n.datas,function(t){u.push(t[c])}),this.drawRadar(1,c),n.inWeapp&&r.canvas.draw(!0),n.hover&&n.hover(c,u,s,t,e),c},e.prototype.draw=function(t,e){var r=this;this.setDataset(t);var n=this.chartjs.opts;e||!n.inBrowser&&!n.inWeapp?this.drawRadar(1):this.setAnimation(function(t){r.drawRadar(t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(8).default);e.default=s},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t,e,r=this.chartjs,n=r.opts,a=n.range,o=n.grid.yTickLength,s=n.datas,h=null,c=null;if(a)h={x:a.x[0],y:a.y[0]},t=(c={x:a.x[1],y:a.y[1]}).x-h.x,e=c.y-h.y;else{var u=[],l=[];i.each(s,function(t){i.each(t,function(t){u.push(t[0]),l.push(t[1])})}),h={x:Math.min.apply(null,u),y:Math.min.apply(null,l)},c={x:Math.max.apply(null,u),y:Math.max.apply(null,l)},u=[],l=[],(t=c.x-h.x)>2?t=4*Math.ceil(t/4):t*=1.2,h.x=t>2?Math.floor(h.x):h.x,h.x+t<c.x&&(h.x=h.x),(e=c.y-h.y)>2?e=4*Math.ceil(e/4):e*=1.2,h.y=e>2?Math.floor(h.y):h.y,h.y+e<c.y&&(h.y=h.y)}n.xaxisfunc?n.xaxis=[n.xaxisfunc(h.x),n.xaxisfunc(c.x)]:n.xaxis=[h.x.toFixed(2),c.x.toFixed(2)],this.yaxis={min:h.y,max:h.y+e,range:e,unit:e/(o-1)};var d=this.yRate=(30-r._chart.height+n.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*this.yRate+n.chartTop;this.xaxis={min:h.x,max:h.x+t,range:t,unit:t/4};var p=this.xRate=(r._chart.width-65)/this.xaxis.range,v=this.xBasic=50,y=[];i.each(s,function(t){var e=[];i.each(t,function(t){e.push({x:t[0]*p+v,y:t[1]*d+f,value:t})}),y.push(e)}),r.datasets=y},e.prototype.drawPoints=function(t){var e=this;void 0===t&&(t=1);var r=this.chartjs,n=r.opts,a=r.datasets;i.each(a,function(o,s){var h="rgba("+i.getColorRgb(n.colors[s]).join(",")+", 0.3)",c=(n.pointWidths&&n.pointWidths[s]||6-4*s/a.length)*t,u=.8*c;i.each(o,function(t){e.drawPoint(r.ctx,t.x,t.y,n.colors[s],h,c,u)})})},e.prototype.draw=function(t,e){var r=this,n=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!n.inBrowser&&!n.inWeapp?this.drawPoints():this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawPoints(t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=o},function(t,e,r){"use strict";var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(12),o={version:"0.9.2"};["line","bar","scatter","kline","pie","radar"].forEach(function(t){Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:function(){var e=r(15)("./"+t).default;return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.init=function(t){t||this._init(),this.drawer=new e(this),t||this.drawer.init()},r}(i.default)}})}),t.exports=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),a=r(1),i=r(14),o=i.default.inBrowser,s=i.default.inWeapp,h=function(){function t(t){this.$el=null,this.drawer=null,this.canvas=null,this.ctx=null;var e=t.id,r=t.colors,a=t.data,h=t.datas;e&&(a||h)||n.throwError("no container id or datas in options","setConfig"),o&&!s&&(this.$el=document.getElementById(e)),r&&(t.colors=r.concat(i.default.colors)),t=n.cloneObjDeep(i.default,t),a&&(t.datas=[a],delete t.data),this.opts=t}return t.prototype.update=function(t){t&&(t.data&&(t.datas=[t.data],delete t.data),this.opts=n.cloneObjDeep(this.opts,t)),this.drawer.draw(!0,this.opts.noAnimation)},t.prototype._init=function(){a.setContext(this,o,s),o&&!s&&(this.pixelRatio=a.retinaScale(this.canvas,this.ctx))},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.getStyle=function(t,e){var r=t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof wx&&void 0!==wx.getSystemInfo,a=n?2:1,i={inBrowser:"undefined"!=typeof window,inWeapp:n,backgroundColor:"#fff",colors:["#fe5d4e","#43c2f7","#707ad9","#ffa61b","#64d290","#cf27bd"],duration:600,events:["touchstart","touchmove"],hoverLineColor:"#999",hoverHighlight:1,grid:{yTickLength:5},bar:{margin:60/a},chartTop:0,chartLeft:50/a,chartRight:15,dash:{color:"#e2e2e2",length:3/a},font:{color:"#666",fontFamily:"Arial",fontSize:{x:"11px",y:"10px"}}};e.default=i},function(t,e,r){var n={"./bar":3,"./bar.ts":3,"./kline":5,"./kline.ts":5,"./line":6,"./line.ts":6,"./pie":7,"./pie.ts":7,"./radar":9,"./radar.ts":9,"./scatter":10,"./scatter.ts":10};function a(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=i,t.exports=a,a.id=15}])});