/*!
 * 
 *   FundCharts
 *   @description: 移动端轻量级canvas数据可视化组件。折线图、饼图(环形图)、柱状图、雷达图（蜘蛛图）、散点图、k线图。
 *   @version: 0.9.2
 *   @author: Micheal Wayne(michealwayne@163.com)
 *   @build time: 2018-11-22
 *   @update time: 2019-08-23
 * 
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.FundCharts=n():t.FundCharts=n()}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(r,a,function(n){return t[n]}.bind(null,a));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=11)}([function(t,n,e){"use strict";function r(t){return Object.prototype.toString.call(t).replace(/\[object\s|\]/g,"")}function a(t){return"Object"===r(t)}n.__esModule=!0,n.type=r,n.isArray=function(t){return"Array"===r(t)},n.isString=function(t){return"String"===r(t)},n.isObject=a,n.isFunction=function(t){return"Function"===r(t)},n.each=function(t,n){for(var e=0,r=t.length;e<r;e++)n(t[e],e)},n.cloneObjDeep=function t(n,e){if(!a(n)||!a(e))return!1;for(var r in n)!a(e[r])||i[r]?e[r]=e[r]||n[r]:t(n[r],e[r]);return e},n.isEmptyObj=i,n.getColorRgb=o,n.Lighting=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(t).map(function(t){return(t+=t*n)>255?255:t})};n.cloneArray=function(t,n){return t.map(function(t,e){n[e]=t}),n};function i(t){if(!t)return!1;for(var n in t)return!1;return!0}function o(t){var n=t.toLowerCase();if(n&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(n)){if(4===n.length){for(var e="#",r=1;r<4;r++)e+=n.slice(r,r+1).concat(n.slice(r,r+1));n=e}for(var a=[],i=1;i<7;i+=2)a.push(parseInt("0x"+n.slice(i,i+2)));return a}return n}},function(t,n,e){"use strict";n.__esModule=!0,n.Animation=function(t){t.duration=t.duration||600;var n=23,e=a(),r=null;e(function a(i){if(null===i)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());null===r&&(r=i);if(i-r<t.duration){var o=(i-r)/t.duration;s=o,o=(s/=.5)<1?.5*Math.pow(s,3):.5*(Math.pow(s-2,3)+2),t.onProcess&&t.onProcess(o),e(a,n)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish();var s},n)};var r=void 0;"undefined"!=typeof window&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);var a=function(){return void 0!==r?(a=function(){return r},r):function(t,n){setTimeout(function(){var n=+new Date;t(n)},n)}}},function(t,n,e){"use strict";n.__esModule=!0,n.drawLine=function(t,n,e,r,a){t.beginPath(),t.moveTo(n,e),t.lineTo(r,a),t.closePath(),t.stroke()},n.drawDashLine=function(t,n,e,r,a,i){i=i||5;var o=(h=r-n,c=a-e,Math.sqrt(Math.pow(h,2)+Math.pow(c,2))),s=Math.floor(o/i);var h,c;t.beginPath();for(var u=0;u<s;u++)t[u%2==0?"moveTo":"lineTo"](n+(r-n)/s*u,e+(a-e)/s*u);t.closePath(),t.stroke()},n.drawPoint=function(t,n,e,r,a,i,o){t.beginPath(),t.strokeStyle=a||"#fff",t.lineWidth=void 0!==o?o:1,t.arc(n,e,i,0,2*Math.PI,!0),t.closePath(),t.fillStyle=r,t.fill(),o&&t.stroke()},n.retinaScale=function(t,n){var e=window.devicePixelRatio||1;if(1===e)return!1;var r=t.height,a=t.width;return t.height=r*e,t.width=a*e,n.scale(e,e),t.style.width=a+"px",t.style.height=r+"px",e},n.setContext=function(t,n,e){if(!t||n?!t.$el:!t.opts.Canvas&&!e)throw new Error("Error!no chart object to set context.(FundCharts-setContext)");var a=void 0,i=t.opts.width||500,o=t.opts.height||500;if(n&&!e){var s=t.$el;if(s.style.webkitUserSelect="none",s.style.userSelect="none","function"==typeof s.getContext)a=s;else{(a=document.createElement("canvas")).id=t.opts.id+"Canvas";var h=t.opts.width||(0,r.getStyle)(s,"width"),c=t.opts.height||(0,r.getStyle)(s,"height");a.width=h,a.height=c,s.appendChild(a)}}else if(e){if(!wx||"function"!=typeof wx.createCanvasContext)throw new Error("Error! no param {Object} Ctx.(FundCharts-setContext, not find options)");var u=wx.createCanvasContext(t.opts.id);a={info:"Weapp native canvas",width:i,height:o,getContext:function(){return u},draw:function(n){if(n)return u.draw(!0);wx.drawCanvas({canvasId:t.opts.id,actions:t.ctx.getActions()})}}}else{var l=t.opts.Canvas;if(!t.opts.Canvas)throw new Error("Error! no param {Object} Canvas.(FundCharts-setContext, not find options)");a=l.createCanvas(i,o),t.opts.handleOut&&t.opts.handleOut(a)}t.canvas=a,t.ctx=a.getContext("2d"),t._chart={width:a.width,height:a.height}};var r=e(13)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),a=e(2),i=function(){function t(t){this.yaxis={min:0,max:0,range:0,unit:0},this.xaxis={min:0,max:0,range:0,unit:0},this.xRate=0,this.xBasic=0,this.yRate=0,this.yBasic=0,this.drawPoint=a.drawPoint,this.chartjs=t}return t.prototype.getBasicData=function(t){var n,e,a=this.chartjs.opts,i=t||a.datas,o=a.range;if(o){if(void 0===o.min||void 0===o.max)throw new Error("Error! param range need min and max");n=o.min,e=o.max}else r.each(i,function(t){var r=Math.min.apply(null,t),a=Math.max.apply(null,t);n=n&&n<r?n:r,e=e&&e>a?e:a});return[n||0,e||0]},t.prototype.clearCtn=function(t){var n=this.chartjs,e=n.opts,r=n.ctx,a=n._chart.width,i=n._chart.height;r.beginPath(),t?r.rect(e.chartLeft-4,e.chartTop-5,a+1,i-16-e.chartTop):r.rect(0,0,1e5,1e5),r.fillStyle=e.backgroundColor,r.fill(),r.closePath()},t.prototype.drawDashs=function(t){var n=this.chartjs,e=n.opts;if(e.noDash)return!1;var r=n.ctx,i=n._chart.width-e.chartRight+2,o=(n._chart.height-e.chartTop-30)/4;r.lineWidth=0,r.strokeStyle=e.dash.color,r.beginPath(),r.lineWidth=1;for(var s=0;s<5;s++){var h=t||s*o+5+e.chartTop;a.drawDashLine(r,e.chartLeft,h,i,h,e.dash.length)}r.save()},t.prototype.drawTexts=function(t,n){var e=this.chartjs,r=e.opts,a=r.font,i=e.ctx,o=r.xaxis,s=e._chart.width,h=e._chart.height;r.handleTextX&&(t=r.handleTextX),r.handleTextY&&(n=r.handleTextY),i.lineWidth=1,i.textAlign="right",i.font=a.fontSize.x+" "+a.fontFamily,i.fillStyle=a.color,t?t(i,o):(i.fillText(o[o.length-1],s-r.chartRight,h-10),i.textAlign="left",i.fillText(o[0],r.chartLeft,h-10)),i.font=a.fontSize.y+" "+a.fontFamily,i.textAlign="right",i.textBaseline="middle";var c=this.yaxis;if(n)n(i,c);else for(var u=0;u<5;u++){var l=c.min+u*c.unit;i.fillText(r.yaxisfunc?r.yaxisfunc(l):l.toFixed(2),r.chartLeft-5,this.yRate*l+this.yBasic)}},t.prototype.drawHover=function(t,n){},t.prototype.setEvents=function(){var t=this,n=this.chartjs.canvas,e=this.chartjs.opts,r=e.events;if(!r||!e.inBrowser)return!1;r.forEach(function(e){n.addEventListener(e,function(n){var r=~e.indexOf("touch")?n.touches[0]:n,a=r.clientX,i=r.pageY-r.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t}();n.default=i},function(t,n,e){"use strict";var r,a=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=e(1),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.zeroY=0,n}return a(n,t),n.prototype.setDataset=function(){var t,n=this,e=this.chartjs,r=e.opts,a=r.datas,o=(r.data,this.getBasicData()),s=o[0],h=o[1],c=r.range;c?t=c.max-c.min:s<0?(s=Math.floor(s),-(h=Math.ceil(h))<s?s=-h:h=-s,t=2*h):((t=h-s)||(s=0,t=1),t=t>5?5*Math.ceil(t/5):Math.ceil(1.2*t)),this.yaxis={min:s,max:s+t,range:t,unit:t/4},this.yRate=(30-e._chart.height+r.chartTop)/this.yaxis.range,this.yBasic=5-this.yaxis.max*this.yRate+r.chartTop,this.zeroY=s<0?this.yBasic:e._chart.height-24;var u=this.chartjs.pixelRatio||1,l=a[0].length,f=e.opts.barMargin||l>=10&&40-(l-10)*u||e.opts.bar.margin;f=f<0?0:f/u,this.xaxis={min:0,max:l-1,range:l,unit:1};var d=r.chartLeft+r.chartRight,p=this.chartjs.barWidth=Math.floor((e._chart.width-d)/l-f),v=[];i.each(a,function(t){var e=[];i.each(t,function(t,a){var i=a*p+(a+.5)*f+r.chartLeft;e.push({x:i,y:t*n.yRate+n.yBasic,value:t})}),v.push(e)}),this.chartjs.datasets=v},n.prototype.rotateContext=function(t,n,e,r,a){t.save(),t.translate(n,e),t.rotate(r*Math.PI/180),t.fillText(a,0,0),t.restore()},n.prototype.drawBars=function(t,n){void 0===t&&(t=1);var e=this.chartjs,r=e.opts,a=e.ctx,o=e.oldDataset;a.lineWidth=1;var s=this.zeroY;a.beginPath(),a.lineWidth=0;var h=e.datasets;i.each(h,function(c,u){a.strokeStyle=r.backgroundColor;var l=e.barWidth/h.length,f=o&&o[u];i.each(c,function(e,o){var h=i.Lighting(e.y>s&&r.negativeColor||r.colors[u],o===n?r.hoverHighlight:0);a.fillStyle="rgb("+h.join(",")+")",f?a.fillRect(e.x+l*u,s,l,(e.y-f[o].y)*t+(f[o].y-s)):a.fillRect(e.x+l*u,s,l,(e.y-s)*t)}),a.stroke()}),a.save(),1===t&&(e.oldDataset=null)},n.prototype.drawXaxisTexts=function(t,n){var e=this,r=this.chartjs,a=r._chart.height,o=r.datasets[0],s=r.barWidth,h=n.length>10?3*n.length:0;h>90&&(h=90),t.textAlign="center",i.each(o,function(r,i){if(!n[i])return!1;h?e.rotateContext(t,r.x+s/2,a-10,h,n[i]):t.fillText(n[i],r.x+s/2,a-10)})},n.prototype.draw=function(t,n,e){var r=this,a=this.chartjs,s=a.opts,h=a.datasets;this.clearCtn(!t),this.drawDashs(),t&&(h&&(a.oldDataset=i.cloneArray([],h)),this.setDataset(),this.drawTexts(this.drawXaxisTexts.bind(this))),e||(!s.inBrowser&&!s.inWeapp||n?this.drawBars(1,void 0):o.Animation({onProcess:function(t){r.clearCtn(!0),r.drawDashs(),r.drawBars(t,void 0),s.onAnimation&&s.onAnimation.call(r,t),s.inWeapp&&r.chartjs.ctx.draw(!0)},onAnimationFinish:s.onFinish}))},n.prototype.drawHover=function(t){var n=this.chartjs,e=n.opts;if(n.oldDataset)return!1;if(t>n._chart.width-15||t<e.chartLeft)return!1;for(var r=-1,a=n.barWidth,o=n.datasets[0],s=[],h=0,c=o.length;h<c;h++){var u=o[h];if(t>=u.x&&t<=u.x+a){r=h;break}}return!(r<0)&&(i.each(n.datasets,function(t){s.push(t[r].value)}),this.draw(!1,!0,!0),this.drawBars(1,r),e.hover&&e.hover(r,s,e.xaxis[r],t),e.inWeapp&&n.canvas.draw(!0),r)},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),!t.inBrowser||t.inWeapp||t.noHoverEvent||this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=s},function(t,n,e){"use strict";var r,a=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=e(1),s=e(2),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.setDataset=function(){var t=this.chartjs,n=t.opts,e=n.datas,r=[];i.each(e,function(t){r.push.apply(r,t)});var a,o,s=this.getBasicData([r]),h=s[0],c=s[1],u=n.range;u?(a=u.min,o=u.max-u.min):((o=c-h)||(o=1),o>2?o=4*Math.ceil(o/4):o*=1.2,(a=o>2?Math.floor(h):h)+o<c&&(a=h)),this.yaxis={min:a,max:a+o,range:o,unit:o/4};var l=this.yRate=(30-t._chart.height+n.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*this.yRate+n.chartTop,d=e.length;d=d>1?d:2,this.xaxis={min:0,max:d-1,range:d,unit:1};var p=this.xBasic=n.chartLeft+10,v=this.xRate=(t._chart.width-n.chartLeft-n.chartRight-20)/(d-1),y=[];1===e.length&&(e[1]=e[0]),i.each(e,function(t,n){y.push({x:n*v+p,ymin:t[2]*l+f,ystart:t[0]*l+f,yend:t[1]*l+f,ymax:t[3]*l+f,value:t})}),this.chartjs.dataset=y,n.barWidth||(n.barWidth=d<10?"20":Math.floor(.6*this.xRate),n.barWidth<1&&(n.barWidth=1))},n.prototype.drawUnit=function(t,n,e,r,a){var i,o,h,c=!1;n.yend<n.ystart?(a&&(c=!0),i=e[0],o=n.ystart,h=n.yend):(i=e[4],o=n.yend,h=n.ystart),t.fillStyle=t.strokeStyle=i,s.drawLine(t,n.x,n.ymin,n.x,o),s.drawLine(t,n.x,n.ymax,n.x,h),t.beginPath(),t[c?"rect":"fillRect"](n.x-r/2,h,r,o-h),t.closePath(),t.stroke()},n.prototype.drawLine=function(t){void 0===t&&(t=1);var n=this.chartjs,e=n.opts,r=n.ctx,a=n.dataset;r.lineWidth=1;for(var i=0,o=t*a.length;i<o;i++){var s=a[i];this.drawUnit(r,s,e.colors,e.barWidth,e.upHollow)}r.save()},n.prototype.draw=function(t,n){var e=this,r=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),n||!r.inBrowser&&!r.inWeapp?this.drawLine(1):o.Animation({onProcess:function(t){e.clearCtn(!0),e.drawDashs(),e.drawLine(t),r.onAnimation&&r.onAnimation.call(e,t),r.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:r.onFinish})},n.prototype.drawHover=function(t,n){var e=this.chartjs,r=e.opts;this.draw(r.inWeapp||null,!0);var a=e.ctx;if(t>e._chart.width-15||t<r.chartLeft||n<r.chartTop||n>e._chart.height-30)return!1;var i=Math.round((t-this.xBasic)/this.xRate);if(!e.dataset[i])return!1;var o=Math.round(e.dataset[i].x)+.3;return a.save(),a.strokeStyle=r.hoverLineColor,a.lineWidth=.5,s.drawLine(a,r.chartLeft+.3,n,e._chart.width-15+.3,n),s.drawLine(a,o,6+r.chartTop,o,e._chart.height-25),r.hover&&r.hover(i,[r.datas[i]],r.xaxis[i],t,n),a.restore(),r.inWeapp&&e.canvas.draw(!0),i},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=h},function(t,n,e){"use strict";var r,a=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=e(1),s=e(2),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.setDataset=function(){var t,n,e=this.chartjs,r=e.opts,a=r.data,o=r.datas,s=this.getBasicData(),h=s[0],c=s[1],u=r.range;u?(t=u.min,n=u.max-u.min):((n=c-h)||(n=1),n>2?n=4*Math.ceil(n/4):n*=1.2,(t=n>2?Math.floor(h):h)+n<c&&(t=h)),this.yaxis={min:t,max:t+n,range:n,unit:n/4};var l=this.yRate=(30-e._chart.height+r.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*this.yRate+r.chartTop,d=a?a.length:o[0].length;d=d>1?d:2,this.xaxis={min:0,max:d-1,range:d,unit:1};var p=this.xBasic=r.chartLeft,v=this.xRate=(e._chart.width-r.chartLeft-r.chartRight)/(d-1),y=[];i.each(o,function(t){var n=[];1===t.length&&(t[1]=t[0]),i.each(t,function(t,e){n.push({x:Math.ceil(e*v+p),y:t*l+f,value:t})}),y.push(n)}),this.chartjs.datasets=y},n.prototype.drawLine=function(t){void 0===t&&(t=1);var n=this.chartjs,e=n.opts,r=n.ctx;r.lineWidth=1;var a=n._chart.height-24,o=n.datasets,s=n.oldDatasets,h=s&&s[0].length,c=h?function(n,e,a){var i=n.x,o=n.y,s=a[e]||a[h-1];r.lineTo((i-s.x)*t+s.x,a[e]?(o-s.y)*t+s.y:o)}:function(n){r.lineTo(n.x,a*(1-t)+n.y*t)};i.each(o,function(n,h){r.save();var u=e.curveLine?function(e,i){return function(n,e,i){e=e||n;var o=(n.x+e.x)/2,s=a*(1-t)+(n.y+e.y)*t/2;r.quadraticCurveTo(n.x,n.y,o,s)}(e,n[i+1],s&&s[h])}:function(t,n){return c(t,n,s&&s[h])};if(e.allGradient||0===h){r.beginPath(),r.lineWidth=0,r.strokeStyle=e.backgroundColor,r.moveTo(e.chartLeft,a);var l=n.length;r.lineTo(o[h][0].x,a*(1-t)+o[h][0].y*t),i.each(n,u),s&&s[0][l-1]?r.lineTo((n[l-1].x-s[0][l-1].x)*t+s[0][l-1].x,a):r.lineTo(n[l-1].x,a),r.closePath(),function(t){if(e.noGradient)return!1;var n=r.createLinearGradient(0,0,0,170),a=i.getColorRgb(t).join(",");n.addColorStop(0,"rgba("+a+", 0.3)"),n.addColorStop(.8,"rgba("+a+", 0.1)"),n.addColorStop(1,"rgba("+a+", 0.05)"),r.fillStyle=n,r.fill()}(e.colors[h]),r.stroke()}r.lineWidth=e.lineWidths&&e.lineWidths[h]||1,r.strokeStyle=e.colors[h],r.beginPath(),s&&s[h]?r.moveTo(o[h][0].x,(o[h][0].y-s[h][0].y)*t+s[h][0].y):r.moveTo(o[h][0].x,a*(1-t)+o[h][0].y*t),i.each(o[h],u),r.stroke(),r.restore()}),r.save(),1===t&&(n.oldDatasets=null)},n.prototype.drawHover=function(t){var n=this,e=this.chartjs,r=e.opts;if(r.curveLine||e.oldDatasets)return!1;this.draw(r.inWeapp||null,!0);var a=e.ctx;if(t>e._chart.width-15||t<r.chartLeft)return!1;var o=Math.round((t-this.xBasic)/this.xRate),h=[],c=0,u=[],l=e.datasets;return i.each(l,function(t,e){var i=t[o];!r.hideHoverPoints&&i&&u.push(function(){n.drawPoint(a,i.x,i.y-1,r.colors[e],r.pointStyle,4,1)}),c=i.x,h.push(i.value)}),r.noHoverLine||(c+=.3,a.lineWidth=.5,a.strokeStyle=r.hoverLineColor,s.drawLine(a,c,6+r.chartTop,c,e._chart.height-25)),u.length&&i.each(u,function(t){return t()}),r.hover&&r.hover(o,h,r.xaxis[o],t),a.restore(),r.inWeapp&&e.canvas.draw(!0),o},n.prototype.draw=function(t,n){var e=this,r=this.chartjs.opts,a=this.chartjs.datasets;this.clearCtn(!t),this.drawDashs(),t&&(a&&(this.chartjs.oldDatasets=i.cloneArray([],a)),this.setDataset(),this.drawTexts()),n||r.curveLine||!r.inBrowser&&!r.inWeapp?this.drawLine():o.Animation({onProcess:function(t){e.clearCtn(!0),e.drawDashs(),e.drawLine(t),r.onAnimation&&r.onAnimation.call(e,t),r.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:r.onFinish})},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=h},function(t,n,e){"use strict";var r,a=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=e(1),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.origin=null,n.centerArr=null,n}return a(n,t),n.prototype.drawPie=function(t,n,e){void 0===t&&(t=.6),void 0===n&&(n=1);var r=this.chartjs,a=r.opts,o=a.widthRates,s=a.datas,h=r.oldDataset,c=a.colors;this.clearCtn();var u=r.ctx;t=t>.9?.9:t;var l=a.radius||r._chart.height/2-20,f=l*t,d=a.origin||{x:r._chart.width/2,y:l+20},p=d.x,v=d.y,y=this.chartjs.drawer;this.origin=d,y.radius=l,y.radiusWhite=f;var x=-.5*Math.PI,w=x;u.save(),u.lineWidth=a.lineWidth,u.strokeStyle=a.backgroundColor;var g=[];i.each(s,function(t,r){w+=h?2*(s[r]-h[r])*Math.PI*n+2*h[r]*Math.PI:2*s[r]*Math.PI*n,e===r&&a.hoverRate&&(u.fillStyle=r!==e?c[r]:"rgba("+i.getColorRgb(c[r]).join(",")+", 0.6)",u.beginPath(),u.moveTo(p,v),u.arc(p,v,l*(o&&o[r]||1)*a.hoverRate,x,w,!1),u.closePath(),u.fill()),u.fillStyle=r!==e?c[r]:"rgba("+i.Lighting(c[r]).join(",")+", 0.8)",u.beginPath(),u.moveTo(p,v),u.arc(p,v,l*(o&&o[r]||1),x,w,!1),u.closePath(),u.fill(),a.lineWidth&&u.stroke(),1===n&&g.push((w+x)/2),x=w}),this.centerArr=g,u.fillStyle=a.backgroundColor,u.beginPath(),u.moveTo(p,v),f>0&&u.arc(p,v,f,0,2*Math.PI,!1),u.closePath(),u.fill(),1===n&&(r.oldDataset=null,r.dataset=s)},n.prototype.draw=function(t,n){var e=this,r=this.chartjs,a=r.opts;t&&(r.oldDataset=i.cloneArray([],r.dataset)),a.noAnimation||!a.inBrowser&&!a.inWeapp?this.drawPie(a.annularRate,1):o.Animation({onProcess:function(t){e.drawPie(a.annularRate,t),a.onAnimation&&a.onAnimation.call(e,t),a.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:a.onFinish}),a.inWeapp&&this.chartjs.canvas.draw()},n.prototype.drawHover=function(t,n){var e=this.chartjs,r=e.opts,a=r.datas,i=this.origin;if(e.oldDataset)return!1;for(var o,s=this.getAngle(i.x,i.y,t,n),h=s/(2*Math.PI),c=0,u=0,l=a.length;u<l;u++)if(h<(c+=a[u])){o=u;break}return void 0!==o&&(this.drawPie(r.annularRate,1,o),r.inWeapp&&e.canvas.draw(!0),r.hover&&r.hover(o,[a[o||0]],s,t,n),o)},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(8).default);n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t){this.chartjs=t}return t.prototype.clearCtn=function(){var t=this.chartjs.ctx;t.beginPath(),t.rect(0,0,1e5,1e5),t.fillStyle=this.chartjs.opts.backgroundColor,t.fill(),t.closePath()},t.prototype.getAngle=function(t,n,e,r){var a=Math.atan2(e-t,n-r);return a<0?2*Math.PI+a:a},t.prototype.drawHover=function(t,n){},t.prototype.setEvents=function(){var t=this,n=this.chartjs.canvas,e=this.chartjs.opts,r=e.events;if(!r||!e.inBrowser)return!1;r.forEach(function(e){n.addEventListener(e,function(n){var r=~e.indexOf("touch")?n.touches[0]:n,a=r.clientX,i=r.pageY-r.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t}();n.default=r},function(t,n,e){"use strict";var r,a=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=e(1),s=e(2),h=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.radius=0,n.origin=null,n.sideArr=[],n}return a(n,t),n.prototype.setDataset=function(t){var n=this,e=this.chartjs,r=e.opts,a=r.datas;a.length>1&&(e.multline=!0);var o=0;if(i.each(a,function(t){var e=Math.max.apply(n,t);e>o&&(o=e)}),e.rangeMax=Math.ceil(1*o/(e.opts.maxRate||.9)),this.radius=r.radius||e._chart.height/2-10,this.origin=e.opts.origin||{x:e._chart.width/2,y:this.radius+10},t)return e.oldDataset=i.cloneArray([],e.dataset),!1;this.sideArr=function(t){for(var n=[],e=2*Math.PI/t,r=0;r<t;r++)n.push({x:Math.sin(e*r),y:Math.cos(e*r)});return n}(e.side=a[0].length)},n.prototype.drawRadar=function(t,n){void 0===t&&(t=1);var e=this.chartjs,r=e.opts,a=e.opts.colors;this.clearCtn();var o=e.ctx,h=this.radius,c=this.origin,u=c.x,l=c.y,f=this.sideArr,d=e.oldDataset,p=r.gridNumber||3;o.lineWidth=1,o.strokeStyle=e.opts.dash.color;for(var v=function(t){var n=(t+1)/p*h;if(o.beginPath(),o.moveTo(u+f[0].x*n,l-f[0].y*n),i.each(f,function(t){o.lineTo(u+t.x*n,l-t.y*n)}),o.lineTo(u+f[0].x*n,l-f[0].y*n),o.closePath(),r.fillGrid){var e=i.getColorRgb(r.fillGrid);o.fillStyle="rgba("+e.join(",")+", "+(p-t)/p*.8+")",o.fill()}else o.stroke();t+1===p&&i.each(f,function(t){s.drawLine(o,u,l,u+t.x*n,l-t.y*n)})},y=0;y<p;y++)v(y);var x=e.rangeMax,w=[],g=h*(d?1:t)/x;i.each(r.datas,function(e,h){w[h]=[],function(e,h,c){o.strokeStyle=a[h],o.fillStyle="rgba("+i.getColorRgb(a[h]).join(",")+",0.4)",o.beginPath(),i.each(e,function(n,e){if(f[e]){var r=void 0,a=void 0;r=u+n*f[e].x*g,a=l-n*f[e].y*g,c&&(r=c[e].x+(r-c[e].x)*t,a=c[e].y+(a-c[e].y)*t),w[h].push({x:r,y:a}),o.lineTo(r,a)}}),o.lineTo(w[h][0].x,w[h][0].y),o.closePath(),o.stroke(),r.noFill||o.fill(),o.save();var d=r.hidePoints?0:3;i.each(w[h],function(t,e){s.drawPoint(o,t.x,t.y,a[h],r.pointStyle,n===e?5:d,n===e?1:0)}),o.restore()}(e,h,d&&d[h])}),1===t&&(e.oldDataset=null,e.dataset=w)},n.prototype.drawHover=function(t,n){var e=this.chartjs,r=e.opts,a=this.origin,o=this.sideArr.length;if(e.oldDataset)return!1;var s=this.getAngle(a.x,a.y,t,n),h=Math.PI/o,c=Math.floor(s/h);(c=Math.round(c+(1&c?1:0))/2)===o&&(c=0);var u=[];return i.each(r.datas,function(t){u.push(t[c])}),this.drawRadar(1,c),r.inWeapp&&e.canvas.draw(!0),r.hover&&r.hover(c,u,s,t,n),c},n.prototype.draw=function(t,n){var e=this;this.setDataset(t);var r=this.chartjs.opts;n||!r.inBrowser&&!r.inWeapp?this.drawRadar(1):o.Animation({onProcess:function(t){e.drawRadar(t),r.onAnimation&&r.onAnimation.call(e,t),r.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:r.onFinish})},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(8).default);n.default=h},function(t,n,e){"use strict";var r,a=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=e(1),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.setDataset=function(){var t,n,e=this.chartjs,r=e.opts,a=r.range,o=(r.data,r.datas),s=null,h=null;if(o.length>1&&(e.multline=!0),a)s={x:a.x[0],y:a.y[0]},t=(h={x:a.x[1],y:a.y[1]}).x-s.x,n=h.y-s.y;else{var c=[],u=[];i.each(o,function(t){i.each(t,function(t){c.push(t[0]),u.push(t[1])})}),s={x:Math.min.apply(null,c),y:Math.min.apply(null,u)},h={x:Math.max.apply(null,c),y:Math.max.apply(null,u)},c=[],u=[],(t=h.x-s.x)>2?t=4*Math.ceil(t/4):t*=1.2,s.x=t>2?Math.floor(s.x):s.x,s.x+t<h.x&&(s.x=s.x),(n=h.y-s.y)>2?n=4*Math.ceil(n/4):n*=1.2,s.y=n>2?Math.floor(s.y):s.y,s.y+n<h.y&&(s.y=s.y)}r.xaxisfunc?r.xaxis=[r.xaxisfunc(s.x),r.xaxisfunc(h.x)]:r.xaxis=[s.x.toFixed(2),h.x.toFixed(2)],this.yaxis={min:s.y,max:s.y+n,range:n,unit:n/4};var l=this.yRate=(30-e._chart.height+r.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*this.yRate+r.chartTop;this.xaxis={min:s.x,max:s.x+t,range:t,unit:t/4};var d=this.xRate=(e._chart.width-65)/this.xaxis.range,p=this.xBasic=50,v=[];i.each(o,function(t){var n=[];i.each(t,function(t){n.push({x:t[0]*d+p,y:t[1]*l+f,value:t})}),v.push(n)}),this.chartjs.datasets=v},n.prototype.drawPoints=function(t){var n=this;void 0===t&&(t=1);var e=this.chartjs,r=e.opts,a=e.datasets;i.each(a,function(o,s){var h="rgba("+i.getColorRgb(r.colors[s]).join(",")+", 0.3)",c=(r.pointWidths&&r.pointWidths[s]||6-4*s/a.length)*t,u=.8*c;i.each(o,function(t){n.drawPoint(e.ctx,t.x,t.y,r.colors[s],h,c,u)})})},n.prototype.draw=function(t,n){var e=this,r=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),n||!r.inBrowser&&!r.inWeapp?this.drawPoints():o.Animation({onProcess:function(t){e.clearCtn(!0),e.drawDashs(),e.drawPoints(t),r.onAnimation&&r.onAnimation.call(e,t),r.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:r.onFinish})},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=s},function(t,n,e){"use strict";var r,a=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var i=e(12),o={version:"0.9.1"};["line","bar","scatter","kline","pie","radar"].forEach(function(t){Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:function(){var n=e(15)("./"+t).default;return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this._init(),this.drawer=new n(this),this.drawer.init()},e}(i.default)}})}),t.exports=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),a=e(2),i=e(14),o=function(){function t(t){this.$el=null,this.drawer=null,this.canvas=null,this.ctx=null;var n=t.id;if(!n)throw i.Errors.contain;i.Config.inBrowser&&!i.Config.inWeapp&&(this.$el=document.getElementById(n)),t.colors&&(t.colors=t.colors.concat(i.Config.colors)),(t=r.cloneObjDeep(i.Config,t)).data&&(t.datas=[t.data],delete t.data),this.opts=t}return t.prototype.update=function(t){if(!t)return!1;t.data&&(t.datas=[t.data],delete t.data),this.opts=r.cloneObjDeep(this.opts,t),this.drawer.draw(!0)},t.prototype._init=function(){a.setContext(this,i.Config.inBrowser,i.Config.inWeapp),i.Config.inBrowser&&!i.Config.inWeapp&&(this.pixelRatio=a.retinaScale(this.canvas,this.ctx))},t}();n.default=o},function(t,n,e){"use strict";n.__esModule=!0,n.getStyle=function(t,n){var e=t.currentStyle?t.currentStyle[n]:document.defaultView.getComputedStyle(t,null).getPropertyValue(n),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Errors={contain:function(){return new Error("Error!no container id in options.(FundChart)")}};var r="undefined"!=typeof wx&&void 0!==wx.getSystemInfo,a=r?2:1;n.Config={inBrowser:"undefined"!=typeof window,inWeapp:r,backgroundColor:"#fff",colors:["#fe5d4e","#43c2f7","#707ad9","#ffa61b","#64d290","#cf27bd"],events:["touchstart","touchmove"],hoverLineColor:"#999",hoverHighlight:1,bar:{margin:60/a},chartTop:0,chartLeft:50/a,chartRight:15,dash:{color:"#e2e2e2",length:3/a},font:{color:"#666",fontFamily:"Arial",fontSize:{x:"11px",y:"10px"}}}},function(t,n,e){var r={"./bar":4,"./bar.ts":4,"./kline":5,"./kline.ts":5,"./line":6,"./line.ts":6,"./pie":7,"./pie.ts":7,"./radar":9,"./radar.ts":9,"./scatter":10,"./scatter.ts":10};function a(t){var n=i(t);return e(n)}function i(t){if(!e.o(r,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=15}])});