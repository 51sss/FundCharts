/*!
 * 
 *   FundCharts
 *   @description: 移动端轻量级canvas数据可视化组件。折线图、饼图(环形图)、柱状图、雷达图（蜘蛛图）、散点图、k线图。
 *   @version: 0.9.3
 *   @author: Micheal Wayne(michealwayne@163.com)
 *   @build time: 2018-11-22
 *   @update time: 2019-09-20
 * 
 */
exports.FundCharts=function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=11)}([function(t,e,r){"use strict";function a(t){return Object.prototype.toString.call(t).replace(/\[object\s|\]/g,"")}function n(t){return"Object"===a(t)}function i(t,e){for(var r=0,a=t.length;r<a;r++)e(t[r],r)}e.__esModule=!0,e.type=a,e.isArray=function(t){return"Array"===a(t)},e.isString=function(t){return"String"===a(t)},e.isObject=n,e.isFunction=function(t){return"Function"===a(t)},e.each=i,e.cloneObjDeep=function t(e,r){if(!n(e)||!n(r))return!1;for(var a in e)!n(r[a])||o[a]?r[a]=r[a]||e[a]:t(e[a],r[a]);return r},e.isEmptyObj=o,e.getColorRgb=s,e.Lighting=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(t).map(function(t){return(t+=t*e)>255?255:t})},e.throwError=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";throw new Error("Error!"+t+".(FundCharts-"+e+" "+r+")")};e.cloneArray=function(t,e){return i(t,function(t,r){e[r]=t}),e};function o(t){if(!t)return!1;for(var e in t)return!1;return!0}function s(t){var e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var r="#",a=1;a<4;a++)r+=e.slice(a,a+1).concat(e.slice(a,a+1));e=r}for(var n=[],i=1;i<7;i+=2)n.push(parseInt("0x"+e.slice(i,i+2)));return n}return e}},function(t,e,r){"use strict";e.__esModule=!0,e.drawLine=function(t,e,r,a,n){t.beginPath(),t.moveTo(e,r),t.lineTo(a,n),t.closePath(),t.stroke()},e.drawDashLine=function(t,e,r,a,n,i){i=i||5;var o=(s=a-e,h=n-r,~~(Math.sqrt(Math.pow(s,2)+Math.pow(h,2))/i));var s,h;t.beginPath();for(var c=0;c<o;c++)t[c%2==0?"moveTo":"lineTo"](e+(a-e)/o*c,r+(n-r)/o*c);t.closePath(),t.stroke()},e.drawPoint=function(t,e,r,a,n,i,o){t.beginPath(),t.strokeStyle=n||"#fff",t.lineWidth=void 0!==o?o:1,t.arc(e,r,i,0,2*Math.PI,!0),t.closePath(),t.fillStyle=a,t.fill(),o&&t.stroke()},e.retinaScale=function(t,e){var r=window.devicePixelRatio||1;if(1===r)return!1;var a=t.width,n=t.height;return t.width=a*r,t.height=n*r,e.scale(r,r),t.style.width=a+"px",t.style.height=n+"px",r},e.setContext=function(t,e,r){(!t||e?t.$el:t.opts.Canvas||r)||(0,n.throwError)("no chart object to set context","setContext");var i=t.opts,o=void 0,s=i.width||500,h=i.height||500;if(e&&!r){var c=t.$el;if(c.style.webkitUserSelect="none",c.style.userSelect="none",(0,n.isFunction)(c.getContext))o=c;else{(o=document.createElement("canvas")).id=i.id+"Canvas";var u=i.width||(0,a.getStyle)(c,"width"),l=i.height||(0,a.getStyle)(c,"height");o.width=u,o.height=l,c.appendChild(o)}}else if(r){wx&&(0,n.isFunction)(wx.createCanvasContext)||(0,n.throwError)("no param {Object} Ctx","setContext");var d=wx.createCanvasContext(i.id);o={info:"Weapp native canvas",width:s,height:h,getContext:function(){return d},draw:function(e){if(e)return d.draw(!0);wx.drawCanvas({canvasId:i.id,actions:t.ctx.getActions()})}}}else{var f=i.Canvas;i.Canvas||(0,n.throwError)("no param {Object} Canvas","setContext"),o=f.createCanvas(s,h),i.handleOut&&i.handleOut(o)}t.canvas=o,t.ctx=o.getContext("2d"),t._chart={width:o.width,height:o.height}};var a=r(13),n=r(0)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),n=r(1),i=r(4),o=function(){function t(t){this.yaxis={min:0,max:0,range:0,unit:0},this.xaxis={min:0,max:0,range:0,unit:0},this.xRate=0,this.xBasic=0,this.yRate=0,this.yBasic=0,this.drawPoint=n.drawPoint,this.chartjs=t}return t.prototype.getBasicData=function(t){var e,r,n=this.chartjs.opts,i=t||n.datas,o=n.range;return o?(void 0!==o.min&&void 0!==o.max||a.throwError('param range need params "min" and "max"',"setConfig"),e=o.min,r=o.max):a.each(i,function(t){var a=Math.min.apply(null,t),n=Math.max.apply(null,t);e=void 0!==e&&e<a?e:a,r=r&&r>n?r:n}),[e||0,r||0]},t.prototype.clearCtn=function(t){var e=this.chartjs,r=e.opts,a=e.ctx,n=e._chart.width,i=e._chart.height;a.beginPath(),t?a.rect(r.chartLeft-4,r.chartTop-5,n+1,i-16-r.chartTop):a.rect(0,0,1e5,1e5),a.fillStyle=r.backgroundColor,a.fill(),a.closePath()},t.prototype.drawDashs=function(t){var e=this.chartjs,r=e.opts,a=r.grid,i=r.dash,o=i.isSolid,s=r.dash.color,h=a.showGrid,c=a.xTickLength,u=a.yTickLength,l=e.ctx;l.save();var d=e._chart.width-r.chartRight+2,f=(e._chart.height-r.chartTop-30)/(u-1),p=(d-2-r.chartLeft)/(c-1),v=(u-1)*f+r.chartTop+5.5;if(!r.noDash){l.strokeStyle=s,l.beginPath(),l.lineWidth=1;for(var y=o?n.drawLine:n.drawDashLine,x=o?d-2:d,g=0;g<u;g++){var w=t||g*f+5+r.chartTop;y(l,r.chartLeft,w,x,w,i.length)}if(c){var _=r.chartTop+5;for(g=0;g<c;g++){var m=g*p+r.chartLeft-.5;y(l,m,v,m,_,i.length)}}}if(h){a.color&&(l.strokeStyle=a.color);var b=r.chartLeft-.5,j=e.drawer.zeroY||v;n.drawLine(l,b,r.chartTop,b,v),n.drawLine(l,b,j,d-2,j),l.stroke()}l.strokeStyle=s,l.restore()},t.prototype.drawTexts=function(t,e){var r=this.chartjs,a=r.opts,n=a.grid.yTickLength,i=a.font,o=r.ctx,s=a.xaxis,h=r._chart.width,c=r._chart.height;if(a.handleTextX&&(t=a.handleTextX),a.handleTextY&&(e=a.handleTextY),o.lineWidth=1,o.textAlign="right",o.textBaseline="middle",o.font=i.fontSize.x+" "+i.fontFamily,o.fillStyle=i.color,t)t(o,s);else{var u=c-10;o.fillText(s[s.length-1],h-a.chartRight,u),o.textAlign="left",o.fillText(s[0],a.chartLeft,u)}o.font=i.fontSize.y+" "+i.fontFamily,o.textAlign="right";var l=this.yaxis;if(e)e(o,l);else for(var d=a.chartLeft-5,f=a.yaxisfunc||function(t){return t.toFixed(2)},p=0;p<n;p++){var v=l.min+p*l.unit;o.fillText(f(v),d,this.yRate*v+this.yBasic)}},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,r=this.chartjs.opts,a=r.events;if(!a||!r.inBrowser)return!1;a.forEach(function(r){e.addEventListener(r,function(e){var a=~r.indexOf("touch")?e.touches[0]:e,n=a.clientX,i=a.pageY-a.target.offsetTop;return t.drawHover(n,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;i.Animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=o},function(t,e,r){"use strict";var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zeroY=0,e}return n(e,t),e.prototype.setDataset=function(){var t,e=this.chartjs,r=e.opts,a=r.datas,n=r.grid.yTickLength,o=this.getBasicData(),s=o[0],h=o[1],c=r.range;c?t=c.max-c.min:s<0?(s=~~s,-(h=Math.ceil(h))<s?s=-h:h=-s,t=2*h):((t=h-s)||(s=0,t=1),t=t>5?5*Math.ceil(t/5):Math.ceil(1.2*t)),this.yaxis={min:s,max:s+t,range:t,unit:t/(n-1)};var u=e._chart.width,l=e._chart.height,d=this.yRate=(30-l+r.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*this.yRate+r.chartTop;this.zeroY=s<0?this.yBasic:l-24;var p=e.pixelRatio||1,v=a[0].length,y=r.chartLeft+r.chartRight,x=e.opts.barMargin||r.barWidth&&e.pixelRatio*~~((u-y)/v-r.barWidth*a.length)||v>=10&&40-(v-10)*p||e.opts.bar.margin;x=x<0?0:x/p,this.xaxis={min:0,max:v-1,range:v,unit:1};var g=e.barWidth=r.barWidth||~~((u-y)/v-x),w=[];i.each(a,function(t){var e=[];i.each(t,function(t,a){e.push({x:a*g+(a+.5)*x+r.chartLeft,y:t*d+f,value:t})}),w.push(e)}),e.datasets=w},e.prototype.rotateContext=function(t,e,r,a,n){t.save(),t.translate(e,r),t.rotate(a*Math.PI/180),t.fillText(n,0,0),t.restore()},e.prototype.drawBars=function(t,e){void 0===t&&(t=1);var r=this.chartjs,a=r.opts,n=r.ctx,o=r.oldDataset;n.lineWidth=1;var s=this.zeroY;n.beginPath(),n.lineWidth=0;var h=r.datasets,c=a.singleColorful;i.each(h,function(u,l){n.strokeStyle=a.backgroundColor;var d=r.barWidth/h.length,f=o&&o[l];i.each(u,function(r,o){var h=i.Lighting(r.y>s&&a.negativeColor||a.colors[c?o:l]||a.colors[l],o===e?a.hoverHighlight:0);n.fillStyle="rgb("+h.join(",")+")",f?n.fillRect(r.x+d*l,s,d,(r.y-f[o].y)*t+(f[o].y-s)):n.fillRect(r.x+d*l,s,d,(r.y-s)*t)}),n.stroke()}),n.save(),1===t&&(r.oldDataset=null)},e.prototype.drawXaxisTexts=function(t,e){var r=this,a=this.chartjs,n=a._chart.height,o=a.datasets[0],s=a.barWidth,h=e.length>10?3*e.length:0;h>90&&(h=90),t.textAlign="center",i.each(o,function(a,i){var o=e[i];o&&(h?r.rotateContext(t,a.x+s/2,n-10,h,o):t.fillText(o,a.x+s/2,n-10))})},e.prototype.draw=function(t,e,r){var a=this,n=this.chartjs,o=n.opts,s=n.datasets;this.clearCtn(!t),this.drawDashs(),t&&(s&&(n.oldDataset=i.cloneArray([],s)),this.setDataset(),this.drawTexts(this.drawXaxisTexts.bind(this))),r||(!o.inBrowser&&!o.inWeapp||e?this.drawBars(1):this.setAnimation(function(t){a.clearCtn(!0),a.drawDashs(),a.drawBars(t),o.onAnimation&&o.onAnimation.call(a,t),o.inWeapp&&n.ctx.draw(!0)}))},e.prototype.drawHover=function(t,e){var r=this.chartjs,a=r.opts;if(r.oldDataset)return!1;if(t>r._chart.width-a.chartRight||t<a.chartLeft)return!1;for(var n=-1,o=r.barWidth,s=r.datasets[0],h=[],c=0,u=s.length;c<u;c++){var l=s[c];if(t>=l.x&&t<=l.x+o){n=c;break}}return!(n<0)&&(i.each(r.datasets,function(t){h.push(t[n].value)}),this.draw(!1,!0,!0),this.drawBars(1,n),a.hover&&a.hover(n,h,a.xaxis[n],t,e),a.inWeapp&&r.canvas.draw(!0),n)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),!t.inBrowser||t.inWeapp||t.noHoverEvent||this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Animation=function(t){t.duration=t.duration||600;var e=23,r=n(),a=null;r(function n(o){if(null===o)return t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish(),!1;null===a&&(a=o);if(o-a<t.duration){var s=(o-a)/t.duration;s=i(s),t.onProcess&&t.onProcess(s),r(n,e)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()},e)};var a=void 0;"undefined"!=typeof window&&(a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);var n=function(){return void 0!==a?(n=function(){return a},a):function(t,e){setTimeout(function(){var e=+new Date;t(e)},e)}},i=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},function(t,e,r){"use strict";var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setDataset=function(){var t=this.chartjs,e=t.opts,r=e.grid.yTickLength,a=e.datas,n=[];i.each(a,function(t){n.push.apply(n,t)});var o,s,h=this.getBasicData([n]),c=h[0],u=h[1];e.range?(o=c,s=u-c):((s=u-c)||(s=1),s>2?s=4*Math.ceil(s/4):s*=1.2,(o=s>2?Math.floor(c):c)+s<u&&(o=c)),this.yaxis={min:o,max:o+s,range:s,unit:s/(r-1)};var l=this.yRate=(30-t._chart.height+e.chartTop)/this.yaxis.range,d=this.yBasic=5-this.yaxis.max*l+e.chartTop,f=a.length;f=f>1?f:2,this.xaxis={min:0,max:f-1,range:f,unit:1};var p=this.xBasic=e.chartLeft+10,v=this.xRate=(t._chart.width-e.chartLeft-e.chartRight-20)/(f-1),y=[];1===a.length&&(a[1]=a[0]),i.each(a,function(t,e){y.push({x:e*v+p,ymin:t[2]*l+d,ystart:t[0]*l+d,yend:t[1]*l+d,ymax:t[3]*l+d,value:t})}),t.dataset=y,e.barWidth||(e.barWidth=f<10?"20":~~(.6*this.xRate),e.barWidth<1&&(e.barWidth=1))},e.prototype.drawUnit=function(t,e,r,a,n){var i,s,h,c=!1;e.yend<e.ystart?(n&&(c=!0),i=r[0],s=e.ystart,h=e.yend):(i=r[4],s=e.yend,h=e.ystart),t.fillStyle=t.strokeStyle=i,o.drawLine(t,e.x,e.ymin,e.x,s),o.drawLine(t,e.x,e.ymax,e.x,h),t.beginPath(),t[c?"rect":"fillRect"](e.x-a/2,h,a,s-h),t.closePath(),t.stroke()},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,r=e.opts,a=e.ctx,n=e.dataset;a.lineWidth=1;for(var i=0,o=t*n.length;i<o;i++){var s=n[i];this.drawUnit(a,s,r.colors,r.barWidth,r.upHollow)}a.save()},e.prototype.draw=function(t,e){var r=this,a=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!a.inBrowser&&!a.inWeapp?this.drawLine(1):this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawLine(t),a.onAnimation&&a.onAnimation.call(r,t),a.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.drawHover=function(t,e){var r=this.chartjs,a=r.opts;this.draw(a.inWeapp||null,!0);var n=r.ctx;if(t>r._chart.width-a.chartRight||t<a.chartLeft||e<a.chartTop||e>r._chart.height-(30-a.chartTop))return!1;var i=Math.round((t-this.xBasic)/this.xRate);if(!r.dataset[i])return!1;var s=Math.round(r.dataset[i].x)+.3;return n.save(),n.strokeStyle=a.hoverLineColor,n.lineWidth=.5,o.drawLine(n,a.chartLeft+.3,e,r._chart.width-14.7,e),o.drawLine(n,s,6+a.chartTop,s,r._chart.height-25),a.hover&&a.hover(i,[a.datas[i]],a.xaxis[i],t,e),n.restore(),a.inWeapp&&r.canvas.draw(!0),i},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=s},function(t,e,r){"use strict";var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setDataset=function(){var t,e,r=this.chartjs,a=r.opts,n=a.grid.yTickLength,o=a.datas,s=this.getBasicData(),h=s[0],c=s[1];a.range?(t=h,e=c-h):((e=c-h)||(e=1),e>2?e=4*Math.ceil(e/4):e*=1.2,(t=e>2?Math.floor(h):h)+e<c&&(t=h)),this.yaxis={min:t,max:t+e,range:e,unit:e/(n-1)};var u=this.yRate=(30-r._chart.height+a.chartTop)/this.yaxis.range,l=this.yBasic=5-this.yaxis.max*this.yRate+a.chartTop,d=o[0].length;d=d>1?d:2,this.xaxis={min:0,max:d-1,range:d,unit:1};var f=this.xBasic=a.chartLeft,p=this.xRate=(r._chart.width-a.chartLeft-a.chartRight)/(d-1),v=[];i.each(o,function(t){var e=[];1===t.length&&(t[1]=t[0]),i.each(t,function(t,r){e.push({x:Math.ceil(r*p+f),y:t*u+l,value:t})}),v.push(e)}),r.datasets=v},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,r=e.datasets,a=e.opts,n=e.ctx;n.lineWidth=1;var o=e._chart.height-24,s=e.oldDatasets,h=s&&s[0].length,c=h&&1!==t?function(e,r,a){var i=e.x,o=e.y,s=a[r]||a[h-1];n.lineTo((i-s.x)*t+s.x,a[r]?(o-s.y)*t+s.y:o)}:function(e){n.lineTo(e.x,o*(1-t)+e.y*t)};i.each(r,function(e,h){n.save();var u,l,d,f=r[h][0],p=a.curveLine?function(r,a){return function(e,r,a){r=r||e;var i=(e.x+r.x)/2,s=o*(1-t)+(e.y+r.y)*t/2;n.quadraticCurveTo(e.x,e.y,i,s)}(r,e[a+1],s&&s[h])}:function(t,e){return c(t,e,s&&s[h])};if(a.allGradient||0===h&&!a.noGradient){n.beginPath(),n.lineWidth=0,n.strokeStyle=a.backgroundColor,n.moveTo(a.chartLeft,o);var v=e.length;n.lineTo(f.x+.5,o*(1-t)+f.y*t),i.each(e,p),s&&s[0][v-1]?n.lineTo((e[v-1].x-s[0][v-1].x)*t+s[0][v-1].x,o):n.lineTo(e[v-1].x+.5,o),n.closePath(),u=a.colors[h],l=n.createLinearGradient(0,0,0,170),d=i.getColorRgb(u).join(","),l.addColorStop(0,"rgba("+d+", 0.3)"),l.addColorStop(.8,"rgba("+d+", 0.1)"),l.addColorStop(1,"rgba("+d+", 0.05)"),n.fillStyle=l,n.fill(),n.stroke()}n.lineWidth=a.lineWidths&&a.lineWidths[h]||1,n.strokeStyle=a.colors[h],n.beginPath(),s&&s[h]?n.moveTo(f.x,(f.y-s[h][0].y)*t+s[h][0].y):n.moveTo(f.x,o*(1-t)+f.y*t),i.each(r[h],p),n.stroke(),n.restore()}),n.save(),1===t&&(e.oldDatasets=null)},e.prototype.drawHover=function(t,e){var r=this,a=this.chartjs,n=a.opts;if(n.curveLine||a.oldDatasets)return!1;this.draw(n.inWeapp||null,!0);var s=a.ctx;if(t>a._chart.width-n.chartRight||t<n.chartLeft)return!1;var h=Math.round((t-this.xBasic)/this.xRate),c=[],u=0,l=[],d=a.datasets;return i.each(d,function(t,e){var a=t[h];!n.hideHoverPoints&&a&&l.push(function(){r.drawPoint(s,a.x,a.y-1,n.colors[e],n.pointStyle,4,1)}),u=a.x,c.push(a.value)}),n.noHoverLine||(u+=.3,s.lineWidth=.5,s.strokeStyle=n.hoverLineColor,o.drawLine(s,u,6+n.chartTop,u,a._chart.height-25)),l.length&&i.each(l,function(t){return t()}),n.hover&&n.hover(h,c,n.xaxis[h],t,e),s.restore(),n.inWeapp&&a.canvas.draw(!0),h},e.prototype.draw=function(t,e){var r=this,a=this.chartjs,n=a.opts,o=a.datasets;this.clearCtn(!t),this.drawDashs(),t&&(o&&(a.oldDatasets=i.cloneArray([],o)),this.setDataset(),this.drawTexts()),e||n.curveLine||!n.inBrowser&&!n.inWeapp?this.drawLine():this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawLine(t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&a.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=s},function(t,e,r){"use strict";var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.origin=null,e.centerArr=null,e}return n(e,t),e.prototype.drawPie=function(t,e,r){void 0===t&&(t=.6),void 0===e&&(e=1);var a=this.chartjs,n=a.opts,o=n.widthRates,s=n.datas,h=a.oldDataset,c=n.colors;this.clearCtn();var u=a.ctx;t=t>.9?.9:t;var l=n.radius||a._chart.height/2-20,d=l*t,f=n.origin||{x:a._chart.width/2,y:l+20},p=f.x,v=f.y,y=a.drawer;this.origin=f,y.radius=l,y.radiusWhite=d;var x=n.startAngle||-.5*Math.PI,g=x;u.save(),u.lineWidth=n.lineWidth,u.strokeStyle=n.backgroundColor;var w=[];i.each(s,function(t,a){g+=2*Math.PI*(1!==e&&h?(s[a]-h[a])*e+h[a]:s[a]*e),r===a&&n.hoverRate&&(u.fillStyle=a!==r?c[a]:"rgba("+i.getColorRgb(c[a]).join(",")+", 0.6)",u.beginPath(),u.moveTo(p,v),u.arc(p,v,l*(o&&o[a]||1)*n.hoverRate,x,g,!1),u.closePath(),u.fill()),u.fillStyle=a!==r?c[a]:"rgba("+i.Lighting(c[a]).join(",")+", 0.8)",u.beginPath(),u.moveTo(p,v),u.arc(p,v,l*(o&&o[a]||1),x,g,!1),u.closePath(),u.fill(),n.lineWidth&&u.stroke(),1===e&&w.push((g+x)/2),x=g}),this.centerArr=w,u.fillStyle=n.backgroundColor,u.beginPath(),u.moveTo(p,v),d>0&&u.arc(p,v,d,0,2*Math.PI,!1),u.closePath(),u.fill(),1===e&&(a.oldDataset=null,a.dataset=s)},e.prototype.draw=function(t,e){var r=this,a=this.chartjs,n=a.opts;t&&(a.oldDataset=i.cloneArray([],a.dataset)),n.noAnimation||!n.inBrowser&&!n.inWeapp?this.drawPie(n.annularRate,1):this.setAnimation(function(t){r.drawPie(n.annularRate,t),n.onAnimation&&n.onAnimation.call(r,t),n.inWeapp&&r.chartjs.ctx.draw(!0)}),n.inWeapp&&this.chartjs.canvas.draw()},e.prototype.drawHover=function(t,e){var r=this.chartjs,a=r.opts,n=a.datas,i=this.origin;if(r.oldDataset)return!1;for(var o,s=this.getAngle(i.x,i.y,t,e),h=s/(2*Math.PI),c=0,u=0,l=n.length;u<l;u++)if(h<(c+=n[u])){o=u;break}return!(void 0===o||Math.pow(t-i.x,2)+Math.pow(e-i.y,2)>Math.pow(r.drawer.radius+5,2))&&(this.drawPie(a.annularRate,1,o),a.inWeapp&&r.canvas.draw(!0),a.hover&&a.hover(o,[n[o||0]],s,t,e),o)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(8).default);e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(4),n=function(){function t(t){this.chartjs=t}return t.prototype.clearCtn=function(){var t=this.chartjs.ctx;t.beginPath(),t.rect(0,0,1e5,1e5),t.fillStyle=this.chartjs.opts.backgroundColor,t.fill(),t.closePath()},t.prototype.getAngle=function(t,e,r,a){var n=Math.atan2(r-t,e-a);return n<0?2*Math.PI+n:n},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,r=this.chartjs.opts,a=r.events;if(!a||!r.inBrowser)return!1;a.forEach(function(r){e.addEventListener(r,function(e){var a=~r.indexOf("touch")?e.touches[0]:e,n=a.clientX,i=a.pageY-a.target.offsetTop;return t.drawHover(n,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;a.Animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=n},function(t,e,r){"use strict";var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(1),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.radius=0,e.origin=null,e.sideArr=[],e}return n(e,t),e.prototype.setDataset=function(t){var e=this,r=this.chartjs,a=r.opts,n=a.datas,o=0;if(i.each(n,function(t){var r=Math.max.apply(e,t);r>o&&(o=r)}),r.rangeMax=Math.ceil(1*o/(r.opts.maxRate||.9)),this.radius=a.radius||r._chart.height/2-10,this.origin=r.opts.origin||{x:r._chart.width/2,y:this.radius+10},t)return r.oldDataset=i.cloneArray([],r.dataset),!1;this.sideArr=function(t){for(var e=[],r=2*Math.PI/t,a=0;a<t;a++)e.push({x:Math.sin(r*a),y:Math.cos(r*a)});return e}(r.side=n[0].length)},e.prototype.drawRadar=function(t,e){void 0===t&&(t=1);var r=this.chartjs,a=r.opts,n=r.opts.colors;this.clearCtn();var s=r.ctx,h=this.radius,c=this.origin,u=c.x,l=c.y,d=this.sideArr,f=r.oldDataset,p=a.gridNumber||3;s.lineWidth=1,s.strokeStyle=r.opts.dash.color;for(var v=function(t){var e=(t+1)/p*h;if(s.beginPath(),s.moveTo(u+d[0].x*e,l-d[0].y*e),i.each(d,function(t){s.lineTo(u+t.x*e,l-t.y*e)}),s.lineTo(u+d[0].x*e,l-d[0].y*e),s.closePath(),a.fillGrid){var r=i.getColorRgb(a.fillGrid);s.fillStyle="rgba("+r.join(",")+", "+(p-t)/p*.8+")",s.fill()}else s.stroke();t+1===p&&i.each(d,function(t){o.drawLine(s,u,l,u+t.x*e,l-t.y*e)})},y=0;y<p;y++)v(y);var x=r.rangeMax,g=[],w=h*(f?1:t)/x;i.each(a.datas,function(r,h){g[h]=[],function(r,h,c){s.strokeStyle=n[h],s.fillStyle="rgba("+i.getColorRgb(n[h]).join(",")+",0.4)",s.beginPath(),i.each(r,function(e,r){var a=d[r],n=c&&c[r];if(a){var i=void 0,o=void 0;i=u+e*a.x*w,o=l-e*a.y*w,n&&(i=n.x+(i-n.x)*t,o=n.y+(o-n.y)*t),g[h].push({x:i,y:o}),s.lineTo(i,o)}}),s.lineTo(g[h][0].x,g[h][0].y),s.closePath(),s.stroke(),a.noFill||s.fill(),s.save();var f=a.hidePoints?0:3;i.each(g[h],function(t,r){o.drawPoint(s,t.x,t.y,n[h],a.pointStyle,e===r?5:f,e===r?1:0)}),s.restore()}(r,h,f&&f[h])}),1===t&&(r.oldDataset=null,r.dataset=g)},e.prototype.drawHover=function(t,e){var r=this.chartjs,a=r.opts,n=this.origin,o=this.sideArr.length;if(r.oldDataset||Math.pow(t-n.x,2)+Math.pow(e-n.y,2)>Math.pow(r.drawer.radius+5,2))return!1;var s=this.getAngle(n.x,n.y,t,e),h=Math.PI/o,c=Math.floor(s/h);(c=Math.round(c+(1&c?1:0))/2)===o&&(c=0);var u=[];return i.each(a.datas,function(t){u.push(t[c])}),this.drawRadar(1,c),a.inWeapp&&r.canvas.draw(!0),a.hover&&a.hover(c,u,s,t,e),c},e.prototype.draw=function(t,e){var r=this;this.setDataset(t);var a=this.chartjs.opts;e||!a.inBrowser&&!a.inWeapp?this.drawRadar(1):this.setAnimation(function(t){r.drawRadar(t),a.onAnimation&&a.onAnimation.call(r,t),a.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(8).default);e.default=s},function(t,e,r){"use strict";var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setDataset=function(){var t,e,r=this.chartjs,a=r.opts,n=a.range,o=a.grid.yTickLength,s=a.datas,h=null,c=null;if(n)h={x:n.x[0],y:n.y[0]},t=(c={x:n.x[1],y:n.y[1]}).x-h.x,e=c.y-h.y;else{var u=[],l=[];i.each(s,function(t){i.each(t,function(t){u.push(t[0]),l.push(t[1])})}),h={x:Math.min.apply(null,u),y:Math.min.apply(null,l)},c={x:Math.max.apply(null,u),y:Math.max.apply(null,l)},u=[],l=[],(t=c.x-h.x)>2?t=4*Math.ceil(t/4):t*=1.2,h.x=t>2?Math.floor(h.x):h.x,h.x+t<c.x&&(h.x=h.x),(e=c.y-h.y)>2?e=4*Math.ceil(e/4):e*=1.2,h.y=e>2?Math.floor(h.y):h.y,h.y+e<c.y&&(h.y=h.y)}a.xaxisfunc?a.xaxis=[a.xaxisfunc(h.x),a.xaxisfunc(c.x)]:a.xaxis=[h.x.toFixed(2),c.x.toFixed(2)],this.yaxis={min:h.y,max:h.y+e,range:e,unit:e/(o-1)};var d=this.yRate=(30-r._chart.height+a.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*this.yRate+a.chartTop;this.xaxis={min:h.x,max:h.x+t,range:t,unit:t/4};var p=this.xRate=(r._chart.width-65)/this.xaxis.range,v=this.xBasic=50,y=[];i.each(s,function(t){var e=[];i.each(t,function(t){e.push({x:t[0]*p+v,y:t[1]*d+f,value:t})}),y.push(e)}),r.datasets=y},e.prototype.drawPoints=function(t){var e=this;void 0===t&&(t=1);var r=this.chartjs,a=r.opts,n=r.datasets;i.each(n,function(o,s){var h="rgba("+i.getColorRgb(a.colors[s]).join(",")+", 0.3)",c=(a.pointWidths&&a.pointWidths[s]||6-4*s/n.length)*t,u=.8*c;i.each(o,function(t){e.drawPoint(r.ctx,t.x,t.y,a.colors[s],h,c,u)})})},e.prototype.draw=function(t,e){var r=this,a=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!a.inBrowser&&!a.inWeapp?this.drawPoints():this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawPoints(t),a.onAnimation&&a.onAnimation.call(r,t),a.inWeapp&&r.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),t.inWeapp&&this.chartjs.canvas.draw()},e}(r(2).default);e.default=o},function(t,e,r){"use strict";var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(12),o={version:"0.9.2"};["line","bar","scatter","kline","pie","radar"].forEach(function(t){Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:function(){var e=r(15)("./"+t).default;return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.init=function(t){t||this._init(),this.drawer=new e(this),t||this.drawer.init()},r}(i.default)}})}),t.exports=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),n=r(1),i=r(14),o=i.default.inBrowser,s=i.default.inWeapp,h=function(){function t(t){this.$el=null,this.drawer=null,this.canvas=null,this.ctx=null;var e=t.id,r=t.colors,n=t.data,h=t.datas;e&&(n||h)||a.throwError("no container id or datas in options","setConfig"),o&&!s&&(this.$el=document.getElementById(e)),r&&(t.colors=r.concat(i.default.colors)),t=a.cloneObjDeep(i.default,t),n&&(t.datas=[n],delete t.data),this.opts=t}return t.prototype.update=function(t){t&&(t.data&&(t.datas=[t.data],delete t.data),this.opts=a.cloneObjDeep(this.opts,t)),this.drawer.draw(!0,this.opts.noAnimation)},t.prototype._init=function(){n.setContext(this,o,s),o&&!s&&(this.pixelRatio=n.retinaScale(this.canvas,this.ctx))},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.getStyle=function(t,e){var r=t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e),a=r&&r.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="undefined"!=typeof wx&&void 0!==wx.getSystemInfo,n=a?2:1,i={inBrowser:"undefined"!=typeof window,inWeapp:a,backgroundColor:"#fff",colors:["#fe5d4e","#43c2f7","#707ad9","#ffa61b","#64d290","#cf27bd"],duration:600,events:["touchstart","touchmove"],hoverLineColor:"#999",hoverHighlight:1,grid:{yTickLength:5},bar:{margin:60/n},chartTop:0,chartLeft:50/n,chartRight:15,dash:{color:"#e2e2e2",length:3/n},font:{color:"#666",fontFamily:"Arial",fontSize:{x:"11px",y:"10px"}}};e.default=i},function(t,e,r){var a={"./bar":3,"./bar.ts":3,"./kline":5,"./kline.ts":5,"./line":6,"./line.ts":6,"./pie":7,"./pie.ts":7,"./radar":9,"./radar.ts":9,"./scatter":10,"./scatter.ts":10};function n(t){var e=i(t);return r(e)}function i(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id=15}]);