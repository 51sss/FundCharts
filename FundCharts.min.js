/*!
 * 
 *   FundCharts
 *   @description: 移动端轻量级canvas数据可视化组件。折线图、饼图(环形图)、柱状图、雷达图（蜘蛛图）、散点图、k线图。
 *   @version: 0.9.1
 *   @author: Micheal Wayne(michealwayne@163.com)
 *   @build time: 2018-11-22
 *   @update time: 2019-07-18
 * 
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.FundCharts=n():t.FundCharts=n()}(window,function(){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=11)}([function(t,n,e){"use strict";function i(t){return Object.prototype.toString.call(t).replace(/\[object\s|\]/g,"")}function r(t){return"Object"===i(t)}n.__esModule=!0,n.type=i,n.isArray=function(t){return"Array"===i(t)},n.isString=function(t){return"String"===i(t)},n.isObject=r,n.isFunction=function(t){return"Function"===i(t)},n.each=function(t,n){for(var e=0,i=t.length;e<i;e++)n(t[e],e)},n.cloneObjDeep=function t(n,e){if(!r(n)||!r(e))return!1;for(var i in n)!r(e[i])||a[i]?e[i]=e[i]||n[i]:t(n[i],e[i]);return e},n.isEmptyObj=a,n.getColorRgb=o,n.Lighting=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(t).map(function(t){return(t+=t*n)>255?255:t})};n.cloneArray=function(t,n){return t.map(function(t,e){n[e]=t}),n};function a(t){if(!t)return!1;for(var n in t)return!1;return!0}function o(t){var n=t.toLowerCase();if(n&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(n)){if(4===n.length){for(var e="#",i=1;i<4;i++)e+=n.slice(i,i+1).concat(n.slice(i,i+1));n=e}for(var r=[],a=1;a<7;a+=2)r.push(parseInt("0x"+n.slice(a,a+2)));return r}return n}},function(t,n,e){"use strict";n.__esModule=!0,n.Animation=function(t){t.duration=t.duration||600;var n=23,e=r(),i=null;e(function r(a){if(null===a)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());null===i&&(i=a);if(a-i<t.duration){var o=(a-i)/t.duration;s=o,o=(s/=.5)<1?.5*Math.pow(s,3):.5*(Math.pow(s-2,3)+2),t.onProcess&&t.onProcess(o),e(r,n)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish();var s},n)};var i=void 0;"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);var r=function(){return void 0!==i?(r=function(){return i},i):function(t,n){setTimeout(function(){var n=+new Date;t(n)},n)}}},function(t,n,e){"use strict";n.__esModule=!0,n.drawLine=function(t,n,e,i,r){t.beginPath(),t.moveTo(n,e),t.lineTo(i,r),t.closePath(),t.stroke()},n.drawDashLine=function(t,n,e,i,r,a){a=a||5;var o=(h=i-n,c=r-e,Math.sqrt(Math.pow(h,2)+Math.pow(c,2))),s=Math.floor(o/a);var h,c;t.beginPath();for(var u=0;u<s;u++)t[u%2==0?"moveTo":"lineTo"](n+(i-n)/s*u,e+(r-e)/s*u);t.closePath(),t.stroke()},n.drawPoint=function(t,n,e,i,r,a,o){t.beginPath(),t.strokeStyle=r||"#fff",t.lineWidth=void 0!==o?o:1,t.arc(n,e,a,0,2*Math.PI,!0),t.closePath(),t.fillStyle=i,t.fill(),o&&t.stroke()},n.retinaScale=function(t,n){var e=window.devicePixelRatio||1;if(1===e)return!1;var i=t.height,r=t.width;return t.height=i*e,t.width=r*e,n.scale(e,e),t.style.width=r+"px",t.style.height=i+"px",e},n.setContext=function(t,n,e){if(!t||n?!t.$el:!t.opts.Canvas&&!e)throw new Error("Error!no chart object to set context.(FundCharts-setContext)");var r=void 0,a=t.opts.width||500,o=t.opts.height||500;if(n&&!e){var s=t.$el;if(s.style.webkitUserSelect="none",s.style.userSelect="none","function"==typeof s.getContext)r=s;else{(r=document.createElement("canvas")).id=t.opts.id+"Canvas";var h=t.opts.width||(0,i.getStyle)(s,"width"),c=t.opts.height||(0,i.getStyle)(s,"height");r.width=h,r.height=c,s.appendChild(r)}}else if(e){if(!wx||"function"!=typeof wx.createCanvasContext)throw new Error("Error! no param {Object} Ctx.(FundCharts-setContext, not find options)");var u=wx.createCanvasContext(t.opts.id);r={info:"Weapp native canvas",width:a,height:o,getContext:function(){return u},draw:function(n){if(n)return u.draw(!0);wx.drawCanvas({canvasId:t.opts.id,actions:t.ctx.getActions()})}}}else{var l=t.opts.Canvas;if(!t.opts.Canvas)throw new Error("Error! no param {Object} Canvas.(FundCharts-setContext, not find options)");r=l.createCanvas(a,o),t.opts.handleOut&&t.opts.handleOut(r)}t.canvas=r,t.ctx=r.getContext("2d"),t._chart={width:r.width,height:r.height}};var i=e(13)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),r=e(2),a=function(){function t(t){this.yaxis={min:0,max:0,range:0,unit:0},this.xaxis={min:0,max:0,range:0,unit:0},this.xRate=0,this.xBasic=0,this.yRate=0,this.yBasic=0,this.drawPoint=r.drawPoint,this.chartjs=t}return t.prototype.getBasicData=function(t){var n,e,r=this.chartjs,a=r.opts,o=t||a.datas,s=a.range;if(o.length>1&&(r.multline=!0),s){if(void 0===s.min||void 0===s.max)throw new Error("Error! param range need min and max");n=s.min,e=s.max}else i.each(o,function(t){var i=Math.min.apply(null,t),r=Math.max.apply(null,t);n=n&&n<i?n:i,e=e&&e>r?e:r});return[n||0,e||0]},t.prototype.clearCtn=function(t){var n=this.chartjs,e=n.opts,i=n.ctx,r=n._chart.width,a=n._chart.height;i.beginPath(),t?i.rect(e.chartLeft-5,e.chartTop-5,r+1,a-16-e.chartTop):i.rect(0,0,1e5,1e5),i.fillStyle=e.backgroundColor,i.fill(),i.closePath()},t.prototype.drawDashs=function(t){var n=this.chartjs,e=n.opts;if(e.noDash)return!1;var i=n.ctx,a=n._chart.width-e.chartRight+2,o=(n._chart.height-e.chartTop-30)/4;i.lineWidth=0,i.strokeStyle=e.dash.color,i.beginPath(),i.lineWidth=1;for(var s=0;s<5;s++){var h=t||s*o+5+e.chartTop;r.drawDashLine(i,e.chartLeft,h,a,h,e.dash.length)}i.save()},t.prototype.drawTexts=function(t,n){var e=this.chartjs,i=e.opts,r=i.font,a=e.ctx,o=i.xaxis,s=e._chart.width,h=e._chart.height;i.handleTextX&&(t=i.handleTextX),i.handleTextY&&(n=i.handleTextY),a.lineWidth=1,a.textAlign="right",a.font=r.fontSize.x+" "+r.fontFamily,a.fillStyle=r.color,t?t(a,o):(a.fillText(o[o.length-1],s-i.chartRight,h-10),a.textAlign="left",a.fillText(o[0],i.chartLeft,h-10)),a.font=r.fontSize.y+" "+r.fontFamily,a.textAlign="right",a.textBaseline="middle";var c=this.yaxis;if(n)n(a,c);else for(var u=0;u<5;u++){var l=c.min+u*c.unit;a.fillText(i.yaxisfunc?i.yaxisfunc(l):l.toFixed(2),i.chartLeft-5,this.yRate*l+this.yBasic)}},t.prototype.drawHover=function(t,n){},t.prototype.setEvents=function(){var t=this,n=this.chartjs.canvas,e=this.chartjs.opts,i=e.events;if(!i||!e.inBrowser)return!1;i.forEach(function(e){n.addEventListener(e,function(n){var i=~e.indexOf("touch")?n.touches[0]:n,r=i.clientX,a=i.pageY-i.target.offsetTop;return t.drawHover(r,a),!1},!1)})},t}();n.default=a},function(t,n,e){"use strict";var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),o=e(1),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.zeroY=0,n}return r(n,t),n.prototype.setDataset=function(){var t,n=this,e=this.chartjs,i=e.opts,r=i.datas,o=(i.data,this.getBasicData()),s=o[0],h=o[1],c=i.range;c?t=c.max-c.min:s<0?(s=Math.floor(s),-(h=Math.ceil(h))<s?s=-h:h=-s,t=2*h):((t=h-s)||(s=0,t=1),t=t>5?5*Math.ceil(t/5):Math.ceil(1.2*t)),this.yaxis={min:s,max:s+t,range:t,unit:t/4},this.yRate=(30-e._chart.height+i.chartTop)/this.yaxis.range,this.yBasic=5-this.yaxis.max*this.yRate+i.chartTop,this.zeroY=s<0?this.yBasic:e._chart.height-24;var u=this.chartjs.pixelRatio||1,l=r[0].length,f=e.opts.barMargin||l>=10&&40-(l-10)*u||e.opts.bar.margin;f=f<0?0:f/u,this.xaxis={min:0,max:l-1,range:l,unit:1};var p=i.chartLeft+i.chartRight,d=this.chartjs.barWidth=Math.floor((e._chart.width-p)/l-f),v=[];a.each(r,function(t){var e=[];a.each(t,function(t,r){var a=r*d+(r+.5)*f+i.chartLeft;e.push({x:a,y:t*n.yRate+n.yBasic,value:t})}),v.push(e)}),this.chartjs.datasets=v},n.prototype.rotateContext=function(t,n,e,i,r){t.save(),t.translate(n,e),t.rotate(i*Math.PI/180),t.fillText(r,0,0),t.restore()},n.prototype.drawBars=function(t,n){void 0===t&&(t=1);var e=this.chartjs,i=e.opts,r=e.ctx;r.lineWidth=1;var o=this.zeroY;r.beginPath(),r.lineWidth=0;var s=e.datasets;a.each(s,function(h,c){r.strokeStyle=i.backgroundColor;var u=e.barWidth/s.length;a.each(h,function(e,s){var h=a.Lighting(e.y>o&&i.negativeColor||i.colors[c],s===n?i.hoverHighlight:0);r.fillStyle="rgb("+h.join(",")+")",r.fillRect(e.x+u*c,o,u,(e.y-o)*t)}),r.stroke()}),r.save()},n.prototype.drawXaxisTexts=function(t,n){var e=this,i=this.chartjs,r=i._chart.height,o=i.datasets[0],s=i.barWidth,h=n.length>10?3*n.length:0;h>90&&(h=90),t.textAlign="center",a.each(o,function(i,a){if(!n[a])return!1;h?e.rotateContext(t,i.x+s/2,r-10,h,n[a]):t.fillText(n[a],i.x+s/2,r-10)})},n.prototype.draw=function(t,n,e){var i=this,r=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts(this.drawXaxisTexts.bind(this))),e||(!r.inBrowser&&!r.inWeapp||n?this.drawBars(1,void 0):o.Animation({onProcess:function(t){i.clearCtn(!0),i.drawDashs(),i.drawBars(t,void 0),r.onAnimation&&r.onAnimation.call(i,t),r.inWeapp&&i.chartjs.ctx.draw(!0)},onAnimationFinish:r.onFinish}))},n.prototype.drawHover=function(t){var n=this.chartjs,e=n.opts;if(t>n._chart.width-15||t<e.chartLeft)return!1;for(var i=-1,r=n.barWidth,o=n.datasets[0],s=[],h=0,c=o.length;h<c;h++){var u=o[h];if(t>=u.x&&t<=u.x+r){i=h;break}}return!(i<0)&&(a.each(n.datasets,function(t){s.push(t[i].value)}),this.draw(!1,!0,!0),this.drawBars(1,i),e.hover&&e.hover(i,s,e.xaxis[i],t),e.inWeapp&&n.canvas.draw(!0),i)},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),!t.inBrowser||t.inWeapp||t.noHoverEvent||this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=s},function(t,n,e){"use strict";var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),o=e(1),s=e(2),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.setDataset=function(){var t=this,n=this.chartjs,e=n.opts,i=e.datas,r=[];a.each(i,function(t){r.push.apply(r,t)});var o,s,h=this.getBasicData([r]),c=h[0],u=h[1],l=e.range;l?(o=l.min,s=l.max-l.min):((s=u-c)||(s=1),s>2?s=4*Math.ceil(s/4):s*=1.2,(o=s>2?Math.floor(c):c)+s<u&&(o=c)),this.yaxis={min:o,max:o+s,range:s,unit:s/4},this.yRate=(30-n._chart.height+e.chartTop)/this.yaxis.range,this.yBasic=5-this.yaxis.max*this.yRate+e.chartTop;var f=i.length;f=f>1?f:2,this.xaxis={min:0,max:f-1,range:f,unit:1},this.xBasic=e.chartLeft+10,this.xRate=(n._chart.width-e.chartLeft-e.chartRight-20)/(f-1);var p=[];1===i.length&&(i[1]=i[0]),a.each(i,function(n,e){p.push({x:e*t.xRate+t.xBasic,ymin:n[2]*t.yRate+t.yBasic,ystart:n[0]*t.yRate+t.yBasic,yend:n[1]*t.yRate+t.yBasic,ymax:n[3]*t.yRate+t.yBasic,value:n})}),this.chartjs.dataset=p,e.barWidth||(e.barWidth=f<10?"20":Math.floor(.6*this.xRate),e.barWidth<1&&(e.barWidth=1))},n.prototype.drawUnit=function(t,n,e,i){var r,a,o;n.yend<n.ystart?(r=e[0],a=n.ystart,o=n.yend):(r=e[4],a=n.yend,o=n.ystart),t.fillStyle=t.strokeStyle=r,s.drawLine(t,n.x,n.ymin,n.x,a),s.drawLine(t,n.x,n.ymax,n.x,o),t.beginPath(),t.fillRect(n.x-i/2,o,i,a-o),t.closePath(),t.stroke()},n.prototype.drawLine=function(t){void 0===t&&(t=1);var n=this.chartjs,e=n.opts,i=n.ctx,r=n.dataset;i.lineWidth=1;for(var a=0,o=t*r.length;a<o;a++){var s=r[a];this.drawUnit(i,s,e.colors,e.barWidth)}i.save()},n.prototype.draw=function(t,n){var e=this,i=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),n||!i.inBrowser&&!i.inWeapp?this.drawLine():o.Animation({onProcess:function(t){e.clearCtn(!0),e.drawDashs(),e.drawLine(t),i.onAnimation&&i.onAnimation.call(e,t),i.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:i.onFinish})},n.prototype.drawHover=function(t,n){var e=this.chartjs,i=e.opts;this.draw(i.inWeapp||null,!0);var r=e.ctx;if(t>e._chart.width-15||t<i.chartLeft||n<i.chartTop||n>e._chart.height-30)return!1;var a=Math.round((t-this.xBasic)/this.xRate);if(!e.dataset[a])return!1;var o=Math.round(e.dataset[a].x)+.3;return r.save(),r.strokeStyle=i.hoverLineColor,r.lineWidth=.5,s.drawLine(r,i.chartLeft+.3,n,e._chart.width-15+.3,n),s.drawLine(r,o,6+i.chartTop,o,e._chart.height-25),i.hover&&i.hover(a,[i.datas[a]],i.xaxis[a],t,n),r.restore(),i.inWeapp&&e.canvas.draw(!0),a},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=h},function(t,n,e){"use strict";var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),o=e(1),s=e(2),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.setDataset=function(){var t,n,e=this,i=this.chartjs,r=i.opts,o=r.data,s=r.datas,h=this.getBasicData(),c=h[0],u=h[1],l=r.range;l?(t=l.min,n=l.max-l.min):((n=u-c)||(n=1),n>2?n=4*Math.ceil(n/4):n*=1.2,(t=n>2?Math.floor(c):c)+n<u&&(t=c)),this.yaxis={min:t,max:t+n,range:n,unit:n/4},this.yRate=(30-i._chart.height+r.chartTop)/this.yaxis.range,this.yBasic=5-this.yaxis.max*this.yRate+r.chartTop;var f=o?o.length:s[0].length;f=f>1?f:2,this.xaxis={min:0,max:f-1,range:f,unit:1},this.xBasic=r.chartLeft,this.xRate=(i._chart.width-r.chartLeft-r.chartRight)/(f-1);var p=[];a.each(s,function(t){var n=[];1===t.length&&(t[1]=t[0]),a.each(t,function(t,i){n.push({x:Math.round(i*e.xRate+e.xBasic),y:t*e.yRate+e.yBasic,value:t})}),p.push(n)}),this.chartjs.datasets=p},n.prototype.drawLine=function(t){void 0===t&&(t=1);var n=this.chartjs,e=n.opts,i=n.ctx;i.lineWidth=1;var r=n._chart.height-24,o=function(n){var e=n.x,a=r*(1-t)+n.y*t;i.lineTo(e,a)},s=n.datasets;a.each(s,function(n,h){if(i.save(),e.allGradient||0===h){i.beginPath(),i.lineWidth=0,i.strokeStyle=e.backgroundColor,i.moveTo(e.chartLeft,r);var c=n.length;a.each(n,o),i.lineTo(n[c-1].x,r),i.closePath(),function(t){if(e.noGradient)return!1;var n=i.createLinearGradient(0,0,0,170),r=a.getColorRgb(t).join(",");n.addColorStop(0,"rgba("+r+", 0.3)"),n.addColorStop(.8,"rgba("+r+", 0.1)"),n.addColorStop(1,"rgba("+r+", 0.05)"),i.fillStyle=n,i.fill()}(e.colors[h]),i.stroke()}i.lineWidth=e.lineWidths&&e.lineWidths[h]||1,i.strokeStyle=e.colors[h],i.beginPath(),i.moveTo(s[h][0].x,r*(1-t)+s[h][0].y*t),a.each(s[h],o),i.stroke(),i.restore()}),i.save()},n.prototype.drawHover=function(t){var n=this,e=this.chartjs,i=e.opts;this.draw(i.inWeapp||null,!0);var r=e.ctx;if(t>e._chart.width-15||t<i.chartLeft)return!1;var o=Math.round((t-this.xBasic)/this.xRate),h=[],c=0,u=[],l=e.datasets;return a.each(l,function(t,e){var a=t[o];!i.hideHoverPoints&&a&&u.push(function(){n.drawPoint(r,a.x,a.y-1,i.colors[e],i.pointStyle,4,1)}),c=a.x,h.push(a.value)}),i.noHoverLine||(c+=.3,r.lineWidth=.5,r.strokeStyle=i.hoverLineColor,s.drawLine(r,c,6+i.chartTop,c,e._chart.height-25)),u.length&&a.each(u,function(t){return t()}),i.hover&&i.hover(o,h,i.xaxis[o],t),r.restore(),i.inWeapp&&e.canvas.draw(!0),o},n.prototype.draw=function(t,n){var e=this,i=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),n||!i.inBrowser&&!i.inWeapp?this.drawLine():o.Animation({onProcess:function(t){e.clearCtn(!0),e.drawDashs(),e.drawLine(t),i.onAnimation&&i.onAnimation.call(e,t),i.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:i.onFinish})},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=h},function(t,n,e){"use strict";var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),o=e(1),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.origin=null,n.centerArr=null,n}return r(n,t),n.prototype.drawPie=function(t,n,e){void 0===t&&(t=.6),void 0===n&&(n=1);var i=this.chartjs,r=i.opts,o=r.widthRates,s=r.datas,h=r.colors;this.clearCtn();var c=i.ctx;t=t>.9?.9:t;var u=r.radius||i._chart.height/2-20,l=u*t,f=r.origin||{x:i._chart.width/2,y:u+20},p=f.x,d=f.y,v=this.chartjs.drawer;this.origin=f,v.radius=u,v.radiusWhite=l;var y=-.5*Math.PI,x=y;c.save(),c.lineWidth=r.lineWidth,c.strokeStyle=r.backgroundColor;var g=[];a.each(s,function(t,i){x+=2*s[i]*Math.PI*n,e===i&&r.hoverRate&&(c.fillStyle=i!==e?h[i]:"rgba("+a.getColorRgb(h[i]).join(",")+", 0.6)",c.beginPath(),c.moveTo(p,d),c.arc(p,d,u*(o&&o[i]||1)*r.hoverRate,y,x,!1),c.closePath(),c.fill()),c.fillStyle=i!==e?h[i]:"rgba("+a.Lighting(h[i]).join(",")+", 0.8)",c.beginPath(),c.moveTo(p,d),c.arc(p,d,u*(o&&o[i]||1),y,x,!1),c.closePath(),c.fill(),r.lineWidth&&c.stroke(),1===n&&g.push((x+y)/2),y=x}),this.centerArr=g,c.fillStyle=r.backgroundColor,c.beginPath(),c.moveTo(p,d),l>0&&c.arc(p,d,l,0,2*Math.PI,!1),c.closePath(),c.fill()},n.prototype.draw=function(t,n){var e=this,i=this.chartjs.opts;i.noAnimation||!i.inBrowser&&!i.inWeapp?this.drawPie(i.annularRate,1):o.Animation({onProcess:function(t){e.drawPie(i.annularRate,t),i.onAnimation&&i.onAnimation.call(e,t),i.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:i.onFinish}),i.inWeapp&&this.chartjs.canvas.draw()},n.prototype.drawHover=function(t,n){for(var e,i=this.chartjs,r=i.opts,a=r.datas,o=this.origin,s=this.getAngle(o.x,o.y,t,n),h=s/(2*Math.PI),c=0,u=0,l=a.length;u<l;u++)if(h<(c+=a[u])){e=u;break}return void 0!==e&&(this.drawPie(r.annularRate,1,e),r.inWeapp&&i.canvas.draw(!0),r.hover&&r.hover(e,[a[e||0]],s,t,n),e)},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(8).default);n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.chartjs=t}return t.prototype.clearCtn=function(){var t=this.chartjs.ctx;t.beginPath(),t.rect(0,0,1e5,1e5),t.fillStyle=this.chartjs.opts.backgroundColor,t.fill(),t.closePath()},t.prototype.getAngle=function(t,n,e,i){var r=Math.atan2(e-t,n-i);return r<0?2*Math.PI+r:r},t.prototype.drawHover=function(t,n){},t.prototype.setEvents=function(){var t=this,n=this.chartjs.canvas,e=this.chartjs.opts,i=e.events;if(!i||!e.inBrowser)return!1;i.forEach(function(e){n.addEventListener(e,function(n){var i=~e.indexOf("touch")?n.touches[0]:n,r=i.clientX,a=i.pageY-i.target.offsetTop;return t.drawHover(r,a),!1},!1)})},t}();n.default=i},function(t,n,e){"use strict";var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),o=e(1),s=e(2),h=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.radius=0,n.origin=null,n.sideArr=[],n}return r(n,t),n.prototype.setDataset=function(t){var n=this,e=this.chartjs,i=e.opts,r=i.datas;r.length>1&&(e.multline=!0);var o=0;if(a.each(r,function(t){var e=Math.max.apply(n,t);e>o&&(o=e)}),e.rangeMax=Math.ceil(1*o/(e.opts.maxRate||.9)),this.radius=i.radius||e._chart.height/2-10,this.origin=e.opts.origin||{x:e._chart.width/2,y:this.radius+10},t)return!1;this.sideArr=function(t){for(var n=[],e=2*Math.PI/t,i=0;i<t;i++)n.push({x:Math.sin(e*i),y:Math.cos(e*i)});return n}(e.side=r[0].length)},n.prototype.drawRadar=function(t,n){void 0===t&&(t=1);var e=this.chartjs,i=e.opts,r=e.opts.colors;this.clearCtn();var o=e.ctx,h=this.radius,c=this.origin,u=c.x,l=c.y,f=this.sideArr,p=i.gridNumber||3;o.lineWidth=1,o.strokeStyle=e.opts.dash.color;for(var d=function(t){var n=(t+1)/p*h;if(o.beginPath(),o.moveTo(u+f[0].x*n,l-f[0].y*n),a.each(f,function(t){o.lineTo(u+t.x*n,l-t.y*n)}),o.lineTo(u+f[0].x*n,l-f[0].y*n),o.closePath(),i.fillGrid){var e=a.getColorRgb(i.fillGrid);o.fillStyle="rgba("+e.join(",")+", "+(p-t)/p*.8+")",o.fill()}else o.stroke();t+1===p&&a.each(f,function(t){s.drawLine(o,u,l,u+t.x*n,l-t.y*n)})},v=0;v<p;v++)d(v);var y=e.rangeMax,x=[];a.each(i.datas,function(e,c){x[c]=[],function(e,c){o.strokeStyle=r[c],o.fillStyle="rgba("+a.getColorRgb(r[c]).join(",")+",0.4)",o.beginPath(),a.each(e,function(n,e){if(f[e]){var i=u+n/y*h*f[e].x*t,r=l-n/y*h*f[e].y*t;x[c].push({x:i,y:r}),o.lineTo(i,r)}}),o.lineTo(u+e[0]/y*h*f[0].x*t,l-e[0]/y*h*f[0].y*t),o.closePath(),o.stroke(),i.noFill||o.fill(),o.save();var p=i.hidePoints?0:3;a.each(x[c],function(t,e){s.drawPoint(o,t.x,t.y,r[c],i.pointStyle,n===e?5:p,n===e?1:0)}),o.restore()}(e,c)})},n.prototype.drawHover=function(t,n){var e=this.chartjs,i=e.opts,r=this.origin,o=this.sideArr.length,s=this.getAngle(r.x,r.y,t,n),h=Math.PI/o,c=Math.floor(s/h);(c=Math.round(c+(1&c?1:0))/2)===o&&(c=0);var u=[];return a.each(i.datas,function(t){u.push(t[c])}),this.drawRadar(1,c),i.inWeapp&&e.canvas.draw(!0),i.hover&&i.hover(c,u,s,t,n),c},n.prototype.draw=function(t,n){var e=this;this.setDataset(t);var i=this.chartjs.opts;n||!i.inBrowser&&!i.inWeapp?this.drawRadar(1):o.Animation({onProcess:function(t){e.drawRadar(t),i.onAnimation&&i.onAnimation.call(e,t),i.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:i.onFinish})},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(8).default);n.default=h},function(t,n,e){"use strict";var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),o=e(1),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.setDataset=function(){var t,n,e=this,i=this.chartjs,r=i.opts,o=r.range,s=(r.data,r.datas),h=null,c=null;if(s.length>1&&(i.multline=!0),o)h={x:o.x[0],y:o.y[0]},t=(c={x:o.x[1],y:o.y[1]}).x-h.x,n=c.y-h.y;else{var u=[],l=[];a.each(s,function(t){a.each(t,function(t){u.push(t[0]),l.push(t[1])})}),h={x:Math.min.apply(null,u),y:Math.min.apply(null,l)},c={x:Math.max.apply(null,u),y:Math.max.apply(null,l)},u=[],l=[],(t=c.x-h.x)>2?t=4*Math.ceil(t/4):t*=1.2,h.x=t>2?Math.floor(h.x):h.x,h.x+t<c.x&&(h.x=h.x),(n=c.y-h.y)>2?n=4*Math.ceil(n/4):n*=1.2,h.y=n>2?Math.floor(h.y):h.y,h.y+n<c.y&&(h.y=h.y)}r.xaxisfunc?r.xaxis=[r.xaxisfunc(h.x),r.xaxisfunc(c.x)]:r.xaxis=[h.x.toFixed(2),c.x.toFixed(2)],this.yaxis={min:h.y,max:h.y+n,range:n,unit:n/4},this.yRate=(30-i._chart.height+r.chartTop)/this.yaxis.range,this.yBasic=5-this.yaxis.max*this.yRate+r.chartTop,this.xaxis={min:h.x,max:h.x+t,range:t,unit:t/4},this.xRate=(i._chart.width-65)/this.xaxis.range,this.xBasic=50;var f=[];a.each(s,function(t){var n=[];a.each(t,function(t){n.push({x:t[0]*e.xRate+e.xBasic,y:t[1]*e.yRate+e.yBasic,value:t})}),f.push(n)}),this.chartjs.datasets=f},n.prototype.drawPoints=function(t){var n=this;void 0===t&&(t=1);var e=this.chartjs,i=e.opts,r=e.datasets;a.each(r,function(o,s){var h="rgba("+a.getColorRgb(i.colors[s]).join(",")+", 0.3)",c=(i.pointWidths&&i.pointWidths[s]||6-4*s/r.length)*t,u=.8*c;a.each(o,function(t){n.drawPoint(e.ctx,t.x,t.y,i.colors[s],h,c,u)})})},n.prototype.draw=function(t,n){var e=this,i=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),n||!i.inBrowser&&!i.inWeapp?this.drawPoints():o.Animation({onProcess:function(t){e.clearCtn(!0),e.drawDashs(),e.drawPoints(t),i.onAnimation&&i.onAnimation.call(e,t),i.inWeapp&&e.chartjs.ctx.draw(!0)},onAnimationFinish:i.onFinish})},n.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),t.inWeapp&&this.chartjs.canvas.draw()},n}(e(3).default);n.default=s},function(t,n,e){"use strict";var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(12),o={version:"0.9.1"};["line","bar","scatter","kline","pie","radar"].forEach(function(t){Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:function(){var n=e(15)("./"+t).default;return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this._init(),this.drawer=new n(this),this.drawer.init()},e}(a.default)}})}),t.exports=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),r=e(2),a=e(14),o=function(){function t(t){this.$el=null,this.drawer=null,this.canvas=null,this.ctx=null;var n=t.id;if(!n)throw a.Errors.contain;a.Config.inBrowser&&!a.Config.inWeapp&&(this.$el=document.getElementById(n)),t.colors&&(t.colors=t.colors.concat(a.Config.colors)),(t=i.cloneObjDeep(a.Config,t)).data&&(t.datas=[t.data],delete t.data),this.opts=t}return t.prototype.update=function(t){if(!t)return!1;this.opts=i.cloneObjDeep(this.opts,t),this.drawer.draw(!0)},t.prototype._init=function(){r.setContext(this,a.Config.inBrowser,a.Config.inWeapp),a.Config.inBrowser&&!a.Config.inWeapp&&(this.pixelRatio=r.retinaScale(this.canvas,this.ctx))},t}();n.default=o},function(t,n,e){"use strict";n.__esModule=!0,n.getStyle=function(t,n){var e=t.currentStyle?t.currentStyle[n]:document.defaultView.getComputedStyle(t,null).getPropertyValue(n),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Errors={contain:function(){return new Error("Error!no container id in options.(FundChart)")}};var i="undefined"!=typeof wx&&void 0!==wx.getSystemInfo,r=i?2:1;n.Config={inBrowser:"undefined"!=typeof window,inWeapp:i,backgroundColor:"#fff",colors:["#fe5d4e","#43c2f7","#707ad9","#ffa61b","#64d290","#cf27bd"],events:["touchstart","touchmove"],hoverLineColor:"#999",hoverHighlight:1,bar:{margin:60/r},chartTop:0,chartLeft:50/r,chartRight:15,dash:{color:"#e2e2e2",length:3/r},font:{color:"#666",fontFamily:"Arial",fontSize:{x:"11px",y:"10px"}}}},function(t,n,e){var i={"./bar":4,"./bar.ts":4,"./kline":5,"./kline.ts":5,"./line":6,"./line.ts":6,"./pie":7,"./pie.ts":7,"./radar":9,"./radar.ts":9,"./scatter":10,"./scatter.ts":10};function r(t){var n=a(t);return e(n)}function a(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=15}])});