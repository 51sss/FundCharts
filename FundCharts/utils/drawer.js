/**
 * canvas draw functions
 */
import{getStyle}from'./doms'function _getBeveling(x,y){return Math.sqrt(Math.pow(x,2)+Math.pow(y,2));}export function drawDashLine(context,x1,y1,x2,y2,dashLen){if(!context)return false;dashLen=dashLen===undefined?5:dashLen;let beveling=_getBeveling(x2-x1,y2-y1);let num=Math.floor(beveling/dashLen);context.beginPath();for(let i=0;i<num;i++){context[i%2==0?'moveTo':'lineTo'](x1+(x2-x1)/num*i,y1+(y2-y1)/num*i);}context.closePath();context.stroke();}export function retinaScale(canvas,ctx){const pixelRatio=window.devicePixelRatio||1;if(pixelRatio===1)return false;let height=canvas.height;let width=canvas.width;canvas.height=height*pixelRatio;canvas.width=width*pixelRatio;ctx.scale(pixelRatio,pixelRatio);canvas.style.height=height+'px';canvas.style.width=width+'px';return pixelRatio;}export function setContext(chart){if(!chart||!chart.$el)throw new Error('Error! no chart object to set context.(FundChart)');let $el=chart.$el;$el.style.webkitUserSelect='none';$el.style.userSelect='none';let _canvas=document.createElement('canvas');_canvas.id=chart.opts.id+'Canvas';_canvas.width=getStyle($el,'width');_canvas.height=getStyle($el,'height');$el.appendChild(_canvas);chart.canvas=_canvas;chart.ctx=_canvas.getContext('2d');chart._chart={width:_canvas.width,height:_canvas.height};}